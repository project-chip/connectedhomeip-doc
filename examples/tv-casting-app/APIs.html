

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Matter Casting APIs &#8212; Matter  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=5b4479735964841361fd" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=5b4479735964841361fd" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=5b4479735964841361fd" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd" />
  <script src="../../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=5b4479735964841361fd"></script>

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'examples/tv-casting-app/APIs';</script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Virtual Device App" href="../virtual_device.html" />
    <link rel="prev" title="CHIP TV Casting App Example" href="linux/README.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/logo.png" class="logo__image only-light" alt="Matter  documentation - Home"/>
    <script>document.write(`<img src="../../_static/logo.png" class="logo__image only-dark" alt="Matter  documentation - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/project-chip/connectedhomeip" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../PROJECT_FLOW.html">Matter Project Flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../VSCODE_DEVELOPMENT.html">Visual Studio Code Development</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../ci-cd/index.html">CI/CD Documentation</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../ci-cd/tools/daily_fail_summary.html">Daily Fail Summary</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../development_controllers/index.html">Development Controllers</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../development_controllers/chip-repl/index.html">chip-repl</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../development_controllers/chip-repl/matter-repl.html">Matter Python REPL</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../development_controllers/chip-repl/python_chip_controller_advanced_usage.html">Using Python CHIP Controller advanced features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../development_controllers/chip-repl/python_chip_controller_building.html">Working with Python CHIP Controller</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../development_controllers/chip-tool/index.html">chip-tool</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../development_controllers/chip-tool/chip_tool_guide.html">Working with the CHIP Tool</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../getting_started/index.html">Getting Started</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started/first_example.html">Compiling, Running, and Controlling Matter examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started/changing_examples.html">Changing Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started/SDKBasics.html">SDK Architecture Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started/zap.html">ZAP</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../cluster_and_device_type_dev/index.html">Cluster and Device Type development</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../cluster_and_device_type_dev/cluster_and_device_type_dev.html">Implementing New Clusters &amp; Device Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cluster_and_device_type_dev/how_to_add_new_dts_and_clusters.html">Adding new clusters and device types to the codegen</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cluster_and_device_type_dev/unit_testing_clusters.html">Designing Clusters for Testing and Portability</a></li>


</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../guides/index.html">Guides</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../guides/BUILDING.html">Building Matter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guides/access-control-guide.html">Access Control Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guides/darwin.html">Matter Development and Testing with/on Apple Devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guides/fabric_synchronization_guide.html">Fabric Synchronization Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guides/matter_idl_tooling.html">The <code class="docutils literal notranslate"><span class="pre">.matter</span></code> IDL file format</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guides/simulated_device_linux.html">Simulated Device How-To (Linux)</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../platforms/index.html">Platform Guides</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../platforms/android/index.html">Android</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-9"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/android/android_building.html">Building Android</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../platforms/asr/index.html">ASR</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-10"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/asr/asr_getting_started_guide.html">ASR Getting Started Guide</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../platforms/bouffalolab/index.html">Bouffalolab</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-11"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/bouffalolab/matter_factory_data.html">Introduction to Matter factory data</a></li>



</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../platforms/esp32/index.html">Espressif (ESP32) Getting Started Guide</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-12"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/esp32/ble_settings.html">Bluetooth Low Energy (BLE)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/esp32/build_app_and_commission.html">ESP32 Application Usage Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/esp32/config_options.html">Configuration options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/esp32/factory_data.html">Using ESP32 Factory Data Provider</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/esp32/flash_nvs_encryption.html">Flash and NVS encryption</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/esp32/ota.html">Matter OTA</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/esp32/providers.html">Providers Implemented for ESP32 Platform</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/esp32/rpc_console.html">RPC Console and Device Tracing</a></li>


<li class="toctree-l3"><a class="reference internal" href="../../platforms/esp32/secure_cert_partition.html">Using esp_secure_cert partition</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/esp32/setup_idf_chip.html">Setup ESP-IDF and Matter Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/esp32/vs_code_development.html">Visual Studio Code Development</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../platforms/infineon/index.html">Infineon</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-13"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/infineon/infineon_psoc6_software_update.html">Matter Software Update with Infineon PSoC6 example applications</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/infineon/infineon_trustm_provisioning.html">Infineon OPTIGAâ„¢ Trust M Provisioning for Matter</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../platforms/mbedos/index.html">MbedOS</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-14"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/mbedos/mbedos_add_new_target.html">Mbed-OS add new hardware target</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/mbedos/mbedos_commissioning.html">Matter Arm Mbed OS provisioning guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/mbedos/mbedos_platform_overview.html">Mbed-OS platform overview</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../platforms/nrf/index.html">NRF</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-15"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/nrf/nrfconnect_android_commissioning.html">Commissioning nRF Connect Accessory using Android CHIPTool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/nrf/nrfconnect_examples_cli.html">Using CLI in nRF Connect examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/nrf/nrfconnect_examples_configuration.html">Configuring nRF Connect examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/nrf/nrfconnect_examples_software_update.html">Performing Device Firmware Upgrade in the nRF Connect examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/nrf/nrfconnect_factory_data_configuration.html">Configuring factory data for the nRF Connect examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/nrf/nrfconnect_platform_overview.html">nRF Connect platform overview</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../platforms/nxp/index.html">NXP</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-16"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/nxp/nxp_RTs_ota_software_update.html">Matter Over-The-Air Software Update with NXP RTs example applications</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/nxp/nxp_imx8m_linux_examples.html">Building and Running CHIP Linux Examples for i.MX 8M Mini EVK</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/nxp/nxp_k32w0_ota_guide.html">NXP K32W0x1 OTA guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/nxp/nxp_k32w_android_commissioning.html">Commissioning NXP K32W using Android CHIPTool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/nxp/nxp_manufacturing_flow.html">NXP Manufacturing data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/nxp/nxp_mcxw71_ota_guide.html">NXP <code class="docutils literal notranslate"><span class="pre">MCXW71/K32W1</span></code> OTA guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/nxp/nxp_otbr_guide.html">Thread Border Router usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/nxp/nxp_zephyr_ota_software_update.html">Matter Over-The-Air Software Update with NXP using Zephyr example applications</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../platforms/openiotsdk/index.html">OpenIoTSDK</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-17"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/openiotsdk/openiotsdk_commissioning.html">Commissioning Open IoT SDK devices</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/openiotsdk/openiotsdk_examples.html">Matter Open IoT SDK Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/openiotsdk/openiotsdk_examples_software_update.html">Matter Open IoT SDK Example Device Firmware Upgrade</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/openiotsdk/openiotsdk_platform_overview.html">Open IoT SDK platform port</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/openiotsdk/openiotsdk_unit_tests.html">Matter Open IoT SDK unit tests</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../platforms/openthread/index.html">OpenThread</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-18"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/openthread/openthread_border_router_pi.html">Setup OpenThread Border Router on Raspberry Pi</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/openthread/openthread_rcp_nrf_dongle.html">Configuring OpenThread Radio Co-processor on nRF52840 Dongle</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../platforms/silabs/index.html">Silabs</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-19"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/silabs/silabs_cli_guide.html">Silabs CLI Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/silabs/silabs_common_app_behavior.html">Standard Application Behavior Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/silabs/silabs_efr32_software_update.html">Matter Software Update with EFR32 example applications</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/silabs/silabs_getting_started.html">Silicon Labs Matter Solution Guide</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../platforms/stm32/index.html">ESP32</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-20"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/stm32/stm32_getting_started_guide.html">STM32 Getting Started Guide</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../platforms/ti/index.html">TI</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-21"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/ti/matter-migration-guide/matter_cc2674_migration.html">Running Matter Examples on the TI SimpleLink CC2674P10 and CC2674R10</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/ti/matter-syscfg/getting-started.html">Get started with SysConfig</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/ti/matter-syscfg/sysconfig-board.html">Configure The Board Files with SysConfig</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/ti/matter-users-guide/ti_openthread_library_usage.html">Configuring OpenThread libraries on TI CC13x4_CC26x4 Platforms</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/ti/matter-users-guide/ti_factory_data_user_guide.html">Texas Instruments Matter Factory Data Programming User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/ti/matter-users-guide/enabling_icd_on_ti_devices.html">Configuring Intermittently Connected Devices on TI SimpleLink CC13x4_CC26x4 Platforms</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/ti/ti_matter_overview.html">Texas Instruments platform overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/ti/matter-migration-guide/matter_cc2674_migration.html">Running Matter Examples on the TI SimpleLink CC2674P10 and CC2674R10</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/ti/matter-syscfg/getting-started.html">Get started with SysConfig</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/ti/matter-syscfg/sysconfig-board.html">Configure The Board Files with SysConfig</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/ti/matter-users-guide/enabling_icd_on_ti_devices.html">Configuring Intermittently Connected Devices on TI SimpleLink CC13x4_CC26x4 Platforms</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/ti/matter-users-guide/ti_factory_data_user_guide.html">Texas Instruments Matter Factory Data Programming User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/ti/matter-users-guide/ti_openthread_library_usage.html">Configuring OpenThread libraries on TI CC13x4_CC26x4 Platforms</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../style/index.html">Style Guides</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-22"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../style/STYLE_MAKEFILES.html">CHIP Makefile Style Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../style/style_guide.html">Matter Documentation Style Guide</a></li>
</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../index.html">Examples</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-23"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="../air_purifier.html">Air Purifier</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-24"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../air-purifier-app/air-purifier-common/README.html">CHIP Air Purifier Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../air-purifier-app/ameba/README.html">CHIP Ameba Air Purifier Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../air-purifier-app/cc32xx/README.html">Matter <code class="docutils literal notranslate"><span class="pre">CC32XXSF</span></code> Air Purifier Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../air-purifier-app/linux/README.html">CHIP Linux Air Purifier Example</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../air_quality.html">Air Quality</a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-25"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../air-quality-sensor-app/linux/README.html">Matter Linux Air Quality Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../air-quality-sensor-app/silabs/README.html">Matter Air Quality Sensor Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../air-quality-sensor-app/telink/README.html">Matter Telink Air Quality Sensor Example Application</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../all_clusters.html">All clusters</a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-26"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../all-clusters-app/ameba/README.html">CHIP Ameba All Clusters Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../all-clusters-app/asr/README.html">Matter ASR All Clusters Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../all-clusters-app/esp32/README.html">Matter ESP32 All Clusters Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../all-clusters-app/infineon/psoc6/README.html">CHIP PSoC6 All Clusters Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../all-clusters-app/linux/README.html">Matter Linux/Mac All Clusters Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../all-clusters-app/mbed/README.html">Matter Arm Mbed OS All Clusters Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../all-clusters-app/nrfconnect/README.html">Matter nRF Connect All Clusters Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../all-clusters-app/nxp/mw320/README.html">Matter MW320 All Clusters Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../all-clusters-app/nxp/rt/rt1060/README.html">CHIP RT1060 All-clusters Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../all-clusters-app/nxp/rt/rt1170/README.html">CHIP RT1170 All-clusters Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../all-clusters-app/nxp/rt/rw61x/README.html">CHIP RW61x All-clusters Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../all-clusters-app/nxp/zephyr/README.html">CHIP NXP Zephyr All-clusters Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../all-clusters-app/openiotsdk/README.html">Matter Open IoT SDK All-Clusters-App Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../all-clusters-app/telink/README.html">Matter Telink All Clusters Example Application</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../all_clusters_minimal.html">All clusters minimal</a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-27"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../all-clusters-minimal-app/ameba/README.html">CHIP Ameba All Clusters Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../all-clusters-minimal-app/asr/README.html">Matter ASR All Clusters Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../all-clusters-minimal-app/esp32/README.html">CHIP ESP32 All Clusters Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../all-clusters-minimal-app/infineon/psoc6/README.html">CHIP PSoC6 All Clusters Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../all-clusters-minimal-app/mbed/README.html">Matter Arm Mbed OS All Clusters Example Application</a></li>



<li class="toctree-l3"><a class="reference internal" href="../all-clusters-minimal-app/nrfconnect/README.html">Matter nRF Connect All Clusters Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../all-clusters-minimal-app/telink/README.html">Matter Telink All Clusters Minimal Example Application</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../bridge.html">Bridge</a><input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-28"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../bridge-app/asr/README.html">Matter ASR Bridge Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../bridge-app/esp32/README.html">Matter ESP32 Bridge App Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../bridge-app/linux/README.html">Matter Linux Bridge Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../bridge-app/telink/README.html">Matter Telink Bridge Example Application</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../chef.html">CHEF</a><input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-29"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../chef/README.html">MATTER CHEF APP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../chef/README_DEVICE.html">Matter Shell - Device Layer module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../chef/README_OTCLI.html">Matter Shell - OpenThread CLI pass-through</a></li>
<li class="toctree-l3"><a class="reference internal" href="../chef/README_SHELL.html">Matter Shell Reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../chef/nrfconnect/README.html">CHIP nRF Connect SDK Shell Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../chef/sample_app_util/README.html">Chef Build Conventions</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../chip_tool.html">CHIP Tool example</a><input class="toctree-checkbox" id="toctree-checkbox-30" name="toctree-checkbox-30" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-30"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../chip-tool/README.html">Matter Client Example</a></li>


</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../contact_sensor.html">Contact Sensor</a><input class="toctree-checkbox" id="toctree-checkbox-31" name="toctree-checkbox-31" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-31"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../contact-sensor-app/linux/README.html">Matter Linux Contact Sensor Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contact-sensor-app/nxp/README.html">Matter NXP Contact Sensor Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contact-sensor-app/nxp/k32w0/README.html">CHIP K32W061 Contact Sensor Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contact-sensor-app/nxp/k32w1/README.html">Matter K32W1 Contact Sensor Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contact-sensor-app/nxp/mcxw71/README.html">Matter <code class="docutils literal notranslate"><span class="pre">MCXW71</span></code> Contact Sensor Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contact-sensor-app/telink/README.html">Matter Telink Contact Sensor Example Application</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../darwin.html">CHIP Tool Darwin</a><input class="toctree-checkbox" id="toctree-checkbox-32" name="toctree-checkbox-32" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-32"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../darwin-framework-tool/README.html">Matter darwin-framework-tool</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../dishwasher.html">Dishwasher</a><input class="toctree-checkbox" id="toctree-checkbox-33" name="toctree-checkbox-33" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-33"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../dishwasher-app/linux/README.html">Matter Linux Dishwasher Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dishwasher-app/silabs/README.html">Matter Silabs dishwasher Example</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../energy_management.html">Energy Management</a><input class="toctree-checkbox" id="toctree-checkbox-34" name="toctree-checkbox-34" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-34"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../energy-management-app/esp32/README.html">Matter ESP32 Energy Management Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../energy-management-app/linux/README.html">Matter Linux Energy Management Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../energy-management-app/silabs/README.html">Matter EFR32 Energy Management Example</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../fabric_admin.html">Fabric Admin</a><input class="toctree-checkbox" id="toctree-checkbox-35" name="toctree-checkbox-35" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-35"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../fabric-admin/README.html">Matter Fabric Administrator Example</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../fabric_bridge.html">Fabric Bridge</a><input class="toctree-checkbox" id="toctree-checkbox-36" name="toctree-checkbox-36" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-36"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../fabric-bridge-app/linux/README.html">Matter Linux Fabric Bridge Example</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../fabric_sync.html">Fabric Sync</a><input class="toctree-checkbox" id="toctree-checkbox-37" name="toctree-checkbox-37" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-37"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../fabric-sync/README.html">Matter Linux Fabric Sync Example</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../java_matter_controller.html">Java matter controller</a><input class="toctree-checkbox" id="toctree-checkbox-38" name="toctree-checkbox-38" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-38"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../java-matter-controller/README.html">Matter Controller Java App Example</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../kotlin_matter_controller.html">Kotlin matter controller</a><input class="toctree-checkbox" id="toctree-checkbox-39" name="toctree-checkbox-39" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-39"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../kotlin-matter-controller/README.html">Matter Controller Kotlin App Example</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../laundry_washer.html">Laundry washer</a><input class="toctree-checkbox" id="toctree-checkbox-40" name="toctree-checkbox-40" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-40"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../laundry-washer-app/nxp/rt/rt1060/README.html">CHIP RT1060 Thermostat Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../laundry-washer-app/nxp/rt/rt1170/README.html">CHIP RT1170 Thermostat Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../laundry-washer-app/nxp/rt/rw61x/README.html">CHIP RW61x Laundry washer Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../laundry-washer-app/nxp/zephyr/README.html">CHIP NXP Zephyr Laundry Washer Application</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../light_switch.html">Light switch</a><input class="toctree-checkbox" id="toctree-checkbox-41" name="toctree-checkbox-41" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-41"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../light-switch-app/ameba/README.html">CHIP Ameba Light Switch Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../light-switch-app/asr/README.html">Matter ASR Light Switch Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../light-switch-app/cc13x4_26x4/README.html">Matter Light Switch Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../light-switch-app/esp32/README.html">Matter ESP32 Light-switch Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../light-switch-app/genio/README.html">Matter <code class="docutils literal notranslate"><span class="pre">Genio</span></code> Light Switch Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../light-switch-app/infineon/cyw30739/README.html">Matter CYW30739 Light Switch Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../light-switch-app/nrfconnect/README.html">Matter nRF Connect Light Switch Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../light-switch-app/qpg/README.html">Matter QPG6105 SDK</a></li>
<li class="toctree-l3"><a class="reference internal" href="../light-switch-app/silabs/README.html">Matter EFR32 Light Switch Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../light-switch-app/telink/README.html">Matter Telink Light Switch Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../light-switch-app/qpg/APPLICATION.html">Matter QPG6105 Light Switch Example Application</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../lighting.html">Lighting</a><input class="toctree-checkbox" id="toctree-checkbox-42" name="toctree-checkbox-42" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-42"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../lighting-app/ameba/README.html">CHIP Ameba Lighting Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lighting-app/asr/README.html">Matter ASR Lighting Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lighting-app/beken/README.html">Matter BEKEN Lighting Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lighting-app/bouffalolab/README.html">Matter <code class="docutils literal notranslate"><span class="pre">Bouffalo</span> <span class="pre">Lab</span></code> Lighting Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lighting-app/cc13x4_26x4/README.html">Matter Lighting Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lighting-app/esp32/README.html">Matter ESP32 Lighting Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lighting-app/genio/README.html">Matter <code class="docutils literal notranslate"><span class="pre">Genio</span></code> Lighting Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lighting-app/infineon/cyw30739/README.html">Matter CYW30739 Lighting Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lighting-app/infineon/psoc6/README.html">CHIP PSoC6 Lighting Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lighting-app/linux/README.html">CHIP Linux Lighting Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lighting-app/mbed/README.html">Matter Arm Mbed OS Lighting Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lighting-app/nrfconnect/README.html">Matter nRF Connect Lighting Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lighting-app/nxp/README.html">Matter NXP Lighting Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lighting-app/nxp/k32w0/README.html">CHIP K32W061 Lighting Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lighting-app/nxp/k32w1/README.html">Matter K32W1 Lighting Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lighting-app/nxp/mcxw71/README.html">Matter <code class="docutils literal notranslate"><span class="pre">MCXW71</span></code> Lighting Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lighting-app/python/README.html">Python-based lighting example (bridge) device to DALI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lighting-app/qpg/README.html">Matter QPG6105 SDK</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lighting-app/silabs/README.html">Matter EFR32 Lighting Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lighting-app/stm32/README.html">Matter STM32 Lighting Example over thread</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lighting-app/telink/README.html">Matter Telink Lighting Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lighting-app/tizen/README.html">CHIP Tizen Lighting Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lighting-app/qpg/APPLICATION.html">Matter QPG6105 Lighting Example Application</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../lighting_no_unique_id.html">Lighting without unique id</a><input class="toctree-checkbox" id="toctree-checkbox-43" name="toctree-checkbox-43" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-43"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../lighting-app-data-mode-no-unique-id/linux/README.html">CHIP Linux Lighting Example (Data Mode, No Unique ID)</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../lit_icd.html">Lit ICD</a><input class="toctree-checkbox" id="toctree-checkbox-44" name="toctree-checkbox-44" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-44"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../lit-icd-app/esp32/README.html">Matter ESP32 LIT ICD Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lit-icd-app/nrfconnect/README.html">Matter nRF Connect LIT ICD Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lit-icd-app/silabs/README.html">Matter EFR32 Lit ICD Example</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../lock.html">Lock</a><input class="toctree-checkbox" id="toctree-checkbox-45" name="toctree-checkbox-45" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-45"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../lock-app/asr/README.html">Matter ASR Lock Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lock-app/cc13x4_26x4/README.html">Matter Lock Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lock-app/cc32xx/README.html">Matter <code class="docutils literal notranslate"><span class="pre">CC32XXSF</span></code> Lock Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lock-app/esp32/README.html">Matter ESP32 Lock Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lock-app/genio/README.html">Matter <code class="docutils literal notranslate"><span class="pre">Genio</span></code> Lock Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lock-app/infineon/cyw30739/README.html">Matter CYW30739 Lock Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lock-app/infineon/psoc6/README.html">Matter PSoC6 Lock Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lock-app/linux/README.html">Lock Application for Linux</a></li>

<li class="toctree-l3"><a class="reference internal" href="../lock-app/mbed/README.html">Matter Arm Mbed OS Lock Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lock-app/nrfconnect/README.html">Matter nRF Connect Lock Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lock-app/nxp/README.html">Matter NXP Door Lock Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lock-app/nxp/k32w1/README.html">Matter K32W1 Door Lock Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lock-app/nxp/mcxw71/README.html">Matter <code class="docutils literal notranslate"><span class="pre">MCXW71</span></code> Door Lock Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lock-app/openiotsdk/README.html">Matter Open IoT SDK Lock-App Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lock-app/qpg/README.html">Matter QPG6105 SDK</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lock-app/silabs/README.html">Matter EFR32 Lock Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lock-app/telink/README.html">Matter Telink Lock Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lock-app/qpg/APPLICATION.html">Matter QPG6105 Lock Example Application</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../log_source.html">Log source</a><input class="toctree-checkbox" id="toctree-checkbox-46" name="toctree-checkbox-46" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-46"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../log-source-app/linux/README.html">log-source-app</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../microwave.html">Microwave ovens</a><input class="toctree-checkbox" id="toctree-checkbox-47" name="toctree-checkbox-47" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-47"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../microwave-oven-app/linux/README.html">Matter Linux Microwave Oven Example</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../minimal_mdns.html">Minimal MDNS</a><input class="toctree-checkbox" id="toctree-checkbox-48" name="toctree-checkbox-48" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-48"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../minimal-mdns/README.html">Minimal mDNS example</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../network_infrastructure_manager.html">Network Infrastructure Manager</a><input class="toctree-checkbox" id="toctree-checkbox-49" name="toctree-checkbox-49" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-49"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../network-manager-app/README.html">network-manager-app</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../ota_provider.html">OTA Provider</a><input class="toctree-checkbox" id="toctree-checkbox-50" name="toctree-checkbox-50" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-50"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../ota-provider-app/esp32/README.html">CHIP ESP32 OTA Provider Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ota-provider-app/linux/README.html">ota-provider-app</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../ota_requestor.html">OTA Requestor</a><input class="toctree-checkbox" id="toctree-checkbox-51" name="toctree-checkbox-51" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-51"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../ota-requestor-app/ameba/README.html">CHIP Ameba OTA Requestor Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ota-requestor-app/asr/README.html">Matter ASR OTA Requestor Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ota-requestor-app/esp32/README.html">CHIP ESP32 OTA Requestor Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ota-requestor-app/genio/README.html">Matter <code class="docutils literal notranslate"><span class="pre">Genio</span></code> Lighting Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ota-requestor-app/linux/README.html">ota-requestor-app (Linux)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ota-requestor-app/mbed/README.html">Matter Arm Mbed OS Lock Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ota-requestor-app/openiotsdk/README.html">Matter Open IoT SDK OTA-Requestor-App Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ota-requestor-app/telink/README.html">Supported devices</a></li>


</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../persistent_storage.html">Persistent storage</a><input class="toctree-checkbox" id="toctree-checkbox-52" name="toctree-checkbox-52" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-52"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../persistent-storage/esp32/README.html">CHIP ESP32 Persistent Storage Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../persistent-storage/infineon/psoc6/README.html">CHIP PSoC6 Persistent Storage Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../persistent-storage/linux/README.html">CHIP Linux Persistent Storage Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../persistent-storage/qpg/README.html">Matter QPG6105 SDK</a></li>
<li class="toctree-l3"><a class="reference internal" href="../persistent-storage/qpg/APPLICATION.html">CHIP QPG6105 Persistent Storage Application</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../pigweed.html">Pigweed</a><input class="toctree-checkbox" id="toctree-checkbox-53" name="toctree-checkbox-53" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-53"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../pigweed-app/ameba/README.html">CHIP Ameba Pigweed Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pigweed-app/esp32/README.html">CHIP ESP32 Pigweed Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pigweed-app/mbed/README.html">Matter Arm Mbed OS Pigweed Example Application</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../pump.html">Pump</a><input class="toctree-checkbox" id="toctree-checkbox-54" name="toctree-checkbox-54" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-54"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../pump-app/cc13x4_26x4/README.html">Matter Pump Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pump-app/nrfconnect/README.html">Matter nRF Connect Pump Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pump-app/silabs/README.html">Matter EFR32 Pump Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pump-app/telink/README.html">Matter Telink Pump Controller Example Application</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../pump_controler.html">Pump controller</a><input class="toctree-checkbox" id="toctree-checkbox-55" name="toctree-checkbox-55" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-55"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../pump-controller-app/cc13x4_26x4/README.html">Matter Pump Controller Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pump-controller-app/nrfconnect/README.html">Matter nRF Connect Pump Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pump-controller-app/telink/README.html">Matter Telink Pump Controller Example Application</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../refrigerator.html">Refrigerator</a><input class="toctree-checkbox" id="toctree-checkbox-56" name="toctree-checkbox-56" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-56"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../refrigerator-app/linux/README.html">CHIP Linux Refrigerator Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../refrigerator-app/silabs/README.html">Matter Refrigerator and Temperature Controlled Example</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../rvc.html">RVC</a><input class="toctree-checkbox" id="toctree-checkbox-57" name="toctree-checkbox-57" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-57"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../rvc-app/README.html">RVC example app</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../shell.html">Shell</a><input class="toctree-checkbox" id="toctree-checkbox-58" name="toctree-checkbox-58" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-58"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../shell/README.html">Matter Shell Reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../shell/README_DEVICE.html">Matter Shell - Device Layer module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../shell/README_OTCLI.html">Matter Shell - OpenThread CLI pass-through</a></li>
<li class="toctree-l3"><a class="reference internal" href="../shell/README_SERVER.html">Matter Shell - App Server module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../shell/cc13x4_26x4/README.html">Matter Shell Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../shell/mbed/README.html">Matter Arm Mbed OS Shell Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../shell/nrfconnect/README.html">Matter nRF Connect SDK Shell Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../shell/openiotsdk/README.html">Matter Open IoT SDK Shell Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../shell/telink/README.html">Matter Telink Shell Example Application</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../smoke_co.html">Smoke CO Alarm example</a><input class="toctree-checkbox" id="toctree-checkbox-59" name="toctree-checkbox-59" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-59"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../smoke-co-alarm-app/silabs/README.html">Matter EFR32 Smoke CO Alarm Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../smoke-co-alarm-app/telink/README.html">Matter Telink Smoke CO Alarm Example Application</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../tbr.html">Thread Border Router</a><input class="toctree-checkbox" id="toctree-checkbox-60" name="toctree-checkbox-60" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-60"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../thread-br-app/esp32/README.html">Matter ESP32 Thread Border Router Example</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../temperature_measurement.html">Temperature measurement</a><input class="toctree-checkbox" id="toctree-checkbox-61" name="toctree-checkbox-61" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-61"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../temperature-measurement-app/asr/README.html">Matter ASR Temperature Measurement Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../temperature-measurement-app/esp32/README.html">Matter ESP32 Temperature Sensor Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../temperature-measurement-app/telink/README.html">Matter Telink Temperature Measurement Example Application</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../thermostat.html">Thermostat</a><input class="toctree-checkbox" id="toctree-checkbox-62" name="toctree-checkbox-62" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-62"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../thermostat/asr/README.html">Matter ASR Thermostat Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../thermostat/genio/README.html">Matter <code class="docutils literal notranslate"><span class="pre">Genio</span></code> Thermostat Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../thermostat/infineon/cyw30739/README.html">Matter CYW30739 Thermostat Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../thermostat/nxp/rt/rt1060/README.html">CHIP RT1060 Thermostat Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../thermostat/nxp/rt/rt1170/README.html">CHIP RT1170 Thermostat Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../thermostat/nxp/rt/rw61x/README.html">CHIP RW61x Thermostat Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../thermostat/nxp/zephyr/README.html">CHIP NXP Zephyr Thermostat Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../thermostat/qpg/README.html">Matter QPG6105 SDK</a></li>
<li class="toctree-l3"><a class="reference internal" href="../thermostat/silabs/README.html">Matter EFR32 Thermostat Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../thermostat/telink/README.html">Matter Telink Thermostat Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../thermostat/qpg/APPLICATION.html">Matter QPG6105 Thermostat Example Application</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../tv.html">TV</a><input class="toctree-checkbox" id="toctree-checkbox-63" name="toctree-checkbox-63" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-63"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../tv-app/android/App/common-api/README.html">Matter tv app common-api</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tv-app/android/App/content-app/README.html">Content App</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tv-app/linux/README.html">Matter TV Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tv-app/openiotsdk/README.html">Matter Open IoT SDK TV-App Example Application</a></li>
</ul>
</li>
<li class="toctree-l2 current active has-children"><a class="reference internal" href="../tv_casting.html">TV casting</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-64" name="toctree-checkbox-64" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-64"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="android/README.html">Matter TV Casting Android App Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="darwin/TvCasting/README.html">Matter TV Casting iOS App Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="linux/README.html">CHIP TV Casting App Example</a></li>
<li class="toctree-l3 current active"><a class="current reference internal" href="#">Matter Casting APIs</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../virtual_device.html">Virtual Device App</a><input class="toctree-checkbox" id="toctree-checkbox-65" name="toctree-checkbox-65" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-65"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../virtual-device-app/android/README.html">Matter Android Virtual Device App Example</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../window.html">Window</a><input class="toctree-checkbox" id="toctree-checkbox-66" name="toctree-checkbox-66" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-66"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../window-app/nrfconnect/README.html">Matter nRF Connect Window Covering Example Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../window-app/silabs/README.html">Matter EFR32 Window Covering Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../window-app/telink/README.html">Matter Telink Window Example Application</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../product_considerations/index.html">Discussion</a><input class="toctree-checkbox" id="toctree-checkbox-67" name="toctree-checkbox-67" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-67"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../product_considerations/lwip_ipv6.html">LwIP changes for Matter</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../testing/index.html">Testing Guides</a><input class="toctree-checkbox" id="toctree-checkbox-68" name="toctree-checkbox-68" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-68"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../testing/ChipDeviceCtrlAPI.html">Table of Contents</a></li>

<li class="toctree-l2"><a class="reference internal" href="../../testing/ci_testing.html">CI testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../testing/fuzz_testing.html">Fuzz testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../testing/integration_test_utilities.html">Integration Test utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../testing/integration_tests.html">Integration and Certification Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../testing/pics_and_pixit.html">PICS and PIXITs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../testing/python.html">Python framework tests</a></li>


<li class="toctree-l2"><a class="reference internal" href="../../testing/unit_testing.html">Unit testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../testing/yaml.html">YAML tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../testing/yaml_pseudocluster.html">YAML Pseudo-clusters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../testing/yaml_schema.html">YAML Schema</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../tips_and_troubleshooting/index.html">Tips and Troubleshooting</a><input class="toctree-checkbox" id="toctree-checkbox-69" name="toctree-checkbox-69" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-69"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tips_and_troubleshooting/discovery_from_a_host_computer.html">Device discovery from a Host computer (mDNS Scanning)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tips_and_troubleshooting/troubleshooting_avahi.html">Troubleshooting Avahi</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../tools/index.html">Tools</a><input class="toctree-checkbox" id="toctree-checkbox-70" name="toctree-checkbox-70" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-70"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../src/tools/chip-cert/README.html">CHIP Certificate Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../src/tools/spake2p/README.html">SPAKE2P Parameters Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../scripts/tools/memory/README.html">Memory usage scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../scripts/tools/spake2p/README.html">SPAKE2+ Python Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../scripts/tools/nxp/factory_data_generator/README.html">NXP Factory Data Generator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../scripts/tools/nxp/ota/README.html">NXP OTA image tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../scripts/tools/silabs/README.html"><code class="docutils literal notranslate"><span class="pre">FactoryDataProvider</span></code> for EFR32 Matter device</a></li>


<li class="toctree-l2"><a class="reference internal" href="../../scripts/tools/silabs/ota/README.html">Silabs OTA image tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../scripts/tools/silabs/factory_data_generator/README.html">Silabs Factory Data Generator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../scripts/tools/telink/readme.html">Manufacturing Partition Generator Utility</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../BUG_REPORT.html">Reporting bugs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../code_generation.html">Code generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zap_clusters.html">List of currently defined ZAP clusters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../spec_clusters.html">List of currently defined spec clusters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../upgrading.html">Upgrading notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ERROR_CODES.html">Matter SDK <code class="docutils literal notranslate"><span class="pre">CHIP_ERROR</span></code> enums values</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../issue_triage.html">Project issues</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">


<a href="https://github.com/project-chip/connectedhomeip/edit/master/docs/examples/tv-casting-app/APIs.md" target="_blank"
   class="btn btn-sm btn-source-edit-button"
   title="Suggest edit"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/examples/tv-casting-app/APIs.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Matter Casting APIs</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#build-and-setup">Build and Setup</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#initialize-the-casting-client">Initialize the Casting Client</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#discover-casting-players">Discover Casting Players</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#connect-to-a-casting-player">Connect to a Casting Player</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#select-an-endpoint-on-the-casting-player">Select an Endpoint on the Casting Player</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#interacting-with-a-casting-endpoint">Interacting with a Casting Endpoint</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#issuing-commands">Issuing Commands</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#read-operations">Read Operations</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#subscriptions">Subscriptions</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="matter-casting-apis">
<h1>Matter Casting APIs<a class="headerlink" href="#matter-casting-apis" title="Permalink to this heading">#</a></h1>
<p>Matter Casting consists of three parts:</p>
<ul class="simple">
<li><p><strong>The mobile app</strong>: For most content providers, this would be your
consumer-facing mobile app. By making your mobile app a Matter â€œCasting
Clientâ€, you enable the user to discover casting targets, cast content, and
control casting sessions. The
<a class="reference external" href="https://github.com/project-chip/connectedhomeip/tree/master/examples/tv-casting-app">example Matter tv-casting-app</a>
for Android / iOS and Linux builds on top of the Matter SDK to demonstrate
how a TV Casting mobile app works.</p></li>
<li><p><strong>The TV content app</strong>: For most content providers, this would be your
consumer-facing app on a Smart TV. By enhancing your TV app to act as a
Matter â€œContent appâ€, you enable Matter Casting Clients to cast content. The
<a class="reference external" href="https://github.com/project-chip/connectedhomeip/tree/master/examples/tv-app/android/App/content-app">example Matter content-app</a>
for Android builds on top of the Matter SDK to demonstrate how a TV Content
app works.</p></li>
<li><p><strong>The TV platform app</strong>: The TV platform app implements the Casting Video<br />
Player device type and provides common capabilities around media playback on
the TV such as play/pause, keypad navigation, input and output control,
content search, and an implementation of an app platform as described in the
media chapter of the device library specification. This is generally
implemented by the TV manufacturer. The
<a class="reference external" href="https://github.com/project-chip/connectedhomeip/tree/master/examples/tv-app">example Matter tv-app</a>
for Android builds on top of the Matter SDK to demonstrate how a TV platform
app works.</p></li>
</ul>
<p>This document describes how enable your Android and iOS apps to act as a Matter
â€œCasting Clientâ€. This documentation is also designed to work with the example
<a class="reference external" href="https://github.com/project-chip/connectedhomeip/tree/master/examples/tv-casting-app">example Matter tv-casting-app</a>
samples so you can see the experience end to end.</p>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading">#</a></h2>
<p>A Casting Client (e.g. a mobile phone app) is expected to be a Matter
Commissionable Node and a <code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code> (i.e. a TV) is expected to be a Matter
Commissioner. In the context of the Matter Video Player architecture, a
<code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code> would map to Casting â€œVideoâ€ Player. The <code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code> is
expected to be hosting one or more <code class="docutils literal notranslate"><span class="pre">Endpoints</span></code> (some of which can represent
Content Apps in the Matter Video Player architecture) that support one or more
Matter Media <code class="docutils literal notranslate"><span class="pre">Clusters</span></code>.</p>
<p>The steps to start a casting session are:</p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#initialize-the-casting-client">Initialize</a> the <code class="docutils literal notranslate"><span class="pre">CastingClient</span></code> using the
Matter SDK.</p></li>
<li><p><a class="reference internal" href="#discover-casting-players">Discover</a> <code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code> devices using Matter
Commissioner discovery.</p></li>
<li><p><a class="reference internal" href="#connect-to-a-casting-player">Connect</a> to the <code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code> to discover
available endpoints. By connecting, the <code class="docutils literal notranslate"><span class="pre">CastingClient</span></code> will send a User
Directed Commissioning (UDC) request to the <code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code> device in order
to make a Matter commissioning request. The <code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code> will then obtain
the appropriate user consent to allow a connection from this <code class="docutils literal notranslate"><span class="pre">CastingClient</span></code>
and obtain the setup code needed to commission the <code class="docutils literal notranslate"><span class="pre">CastingClient</span></code>. The setup
code will typically come from a corresponding TV content app or be input by
the user.</p></li>
<li><p><a class="reference internal" href="#select-an-endpoint-on-the-casting-player">Select</a> an available <code class="docutils literal notranslate"><span class="pre">Endpoint</span></code>
hosted by the <code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code>.</p></li>
</ol>
<p>Next, youâ€™re ready to:</p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#issuing-commands">Issue commands</a> to the <code class="docutils literal notranslate"><span class="pre">Endpoint</span></code>.</p></li>
<li><p><a class="reference internal" href="#read-operations">Read</a> endpoint attributes like playback state.</p></li>
<li><p><a class="reference internal" href="#subscriptions">Subscribe</a> to playback events.</p></li>
</ol>
<p>In order to illustrate these steps, refer to the figure below
<img alt="workflow of casting video player" src="../../_images/workflow_of_casting_video_player.png" /></p>
</section>
<section id="build-and-setup">
<h2>Build and Setup<a class="headerlink" href="#build-and-setup" title="Permalink to this heading">#</a></h2>
<p>The Casting Client is expected to consume the Matter TV Casting library built
for its respective platform which implements the APIs described in this
document. Refer to the tv-casting-app READMEs for <a class="reference internal" href="linux/README.html"><span class="std std-doc">Linux</span></a>,
Android and <a class="reference internal" href="darwin/TvCasting/README.html"><span class="std std-doc">iOS</span></a> to understand how to build and
consume each platformâ€™s specific libraries. The libraries MUST be built with the
clientâ€™s specific values for <code class="docutils literal notranslate"><span class="pre">CHIP_DEVICE_CONFIG_DEVICE_VENDOR_ID</span></code> and
<code class="docutils literal notranslate"><span class="pre">CHIP_DEVICE_CONFIG_DEVICE_PRODUCT_ID</span></code> updated in the
<a class="reference external" href="https://github.com/project-chip/connectedhomeip/blob/master/examples/tv-casting-app/tv-casting-common/include/CHIPProjectAppConfig.h">CHIPProjectAppConfig.h</a> file.
Other values like the <code class="docutils literal notranslate"><span class="pre">CHIP_DEVICE_CONFIG_DEVICE_NAME</span></code> may be updated as well to
correspond to the client being built.</p>
<section id="initialize-the-casting-client">
<h3>Initialize the Casting Client<a class="headerlink" href="#initialize-the-casting-client" title="Permalink to this heading">#</a></h3>
<p><em>{Complete Initialization examples: <a class="reference external" href="https://github.com/project-chip/connectedhomeip/blob/master/examples/tv-casting-app/linux/simple-app.cpp">Linux</a> |
<a class="reference external" href="https://github.com/project-chip/connectedhomeip/blob/master/examples/tv-casting-app/android/App/app/src/main/java/com/matter/casting/InitializationExample.java">Android</a>
| <a class="reference external" href="https://github.com/project-chip/connectedhomeip/blob/master/examples/tv-casting-app/darwin/TvCasting/TvCasting/MCInitializationExample.swift">iOS</a>}</em></p>
<p>A Casting Client must first initialize the Matter SDK and define the following
<code class="docutils literal notranslate"><span class="pre">DataProvider</span></code> objects for the the Matter Casting library to use throughout the
clientâ€™s lifecycle:</p>
<ol class="arabic">
<li><p><strong>Rotating Device Identifier</strong> - â€œThis unique per-device identifier SHALL
consist of a randomly-generated 128-bit or longer octet string.â€ Refer to
the Matter specification for more details. Instantiate a <code class="docutils literal notranslate"><span class="pre">DataProvider</span></code>
object as described below to provide this identifier.</p>
<p>On Linux, define a <code class="docutils literal notranslate"><span class="pre">RotatingDeviceIdUniqueIdProvider</span></code> to provide the Casting
Clientâ€™s <code class="docutils literal notranslate"><span class="pre">RotatingDeviceIdUniqueId</span></code>, by implementing a
<code class="docutils literal notranslate"><span class="pre">matter:casting::support::MutableByteSpanDataProvider</span></code>:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">class</span><span class="w"> </span><span class="n">RotatingDeviceIdUniqueIdProvider</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">public</span><span class="w"> </span><span class="n">MutableByteSpanDataProvider</span><span class="w"> </span><span class="p">{</span>
<span class="n">private</span><span class="o">:</span>
<span class="w">    </span><span class="n">chip</span><span class="o">::</span><span class="n">MutableByteSpan</span><span class="w"> </span><span class="n">rotatingDeviceIdUniqueIdSpan</span><span class="p">;</span>
<span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">rotatingDeviceIdUniqueId</span><span class="p">[</span><span class="n">chip</span><span class="o">::</span><span class="n">DeviceLayer</span><span class="o">::</span><span class="n">ConfigurationManager</span><span class="o">::</span><span class="n">kRotatingDeviceIDUniqueIDLength</span><span class="p">];</span>

<span class="n">public</span><span class="o">:</span>
<span class="w">    </span><span class="n">RotatingDeviceIdUniqueIdProvider</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// generate a random Unique ID for this example app for demonstration</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">rotatingDeviceIdUniqueId</span><span class="p">);</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">rotatingDeviceIdUniqueId</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">chip</span><span class="o">::</span><span class="n">Crypto</span><span class="o">::</span><span class="n">GetRandU8</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="n">rotatingDeviceIdUniqueIdSpan</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">chip</span><span class="o">::</span><span class="n">MutableByteSpan</span><span class="p">(</span><span class="n">rotatingDeviceIdUniqueId</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">chip</span><span class="o">::</span><span class="n">MutableByteSpan</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">Get</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rotatingDeviceIdUniqueIdSpan</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="p">};</span>
</pre></div>
</div>
<p>On Android, define a <code class="docutils literal notranslate"><span class="pre">rotatingDeviceIdUniqueIdProvider</span></code> to provide the
Casting Clientâ€™s <code class="docutils literal notranslate"><span class="pre">RotatingDeviceIdUniqueId</span></code>, by implementing a
<code class="docutils literal notranslate"><span class="pre">com.matter.casting.support.DataSource</span></code>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">DataProvider</span><span class="o">&lt;</span><span class="kt">byte</span><span class="o">[]&gt;</span><span class="w"> </span><span class="n">rotatingDeviceIdUniqueIdProvider</span><span class="w"> </span><span class="o">=</span>
<span class="w">  </span><span class="k">new</span><span class="w"> </span><span class="n">DataProvider</span><span class="o">&lt;</span><span class="kt">byte</span><span class="o">[]&gt;</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">ROTATING_DEVICE_ID_UNIQUE_ID</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="s">&quot;EXAMPLE_IDENTIFIER&quot;</span><span class="p">;</span><span class="w"> </span><span class="c1">// dummy value for demonstration only</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">byte</span><span class="o">[]</span><span class="w"> </span><span class="nf">get</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">ROTATING_DEVICE_ID_UNIQUE_ID</span><span class="p">.</span><span class="na">getBytes</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">};</span>
</pre></div>
</div>
<p>On iOS, define the
<code class="docutils literal notranslate"><span class="pre">func</span> <span class="pre">castingAppDidReceiveRequestForRotatingDeviceIdUniqueId</span></code> in a class,
<code class="docutils literal notranslate"><span class="pre">MCAppParametersDataSource</span></code>, that implements the <code class="docutils literal notranslate"><span class="pre">MCDataSource</span></code>:</p>
<div class="highlight-swift notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">MCAppParametersDataSource</span> <span class="p">:</span> <span class="bp">NSObject</span><span class="p">,</span> <span class="n">MCDataSource</span>
<span class="p">{</span>
    <span class="kd">func</span> <span class="nf">castingAppDidReceiveRequestForRotatingDeviceIdUniqueId</span><span class="p">(</span><span class="kc">_</span> <span class="n">sender</span><span class="p">:</span> <span class="nb">Any</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="n">Data</span> <span class="p">{</span>
        <span class="c1">// dummy value, with at least 16 bytes (ConfigurationManager::kMinRotatingDeviceIDUniqueIDLength), for demonstration only</span>
        <span class="k">return</span> <span class="s">&quot;0123456789ABCDEF&quot;</span><span class="p">.</span><span class="n">data</span><span class="p">(</span><span class="n">using</span><span class="p">:</span> <span class="p">.</span><span class="n">utf8</span><span class="p">)</span><span class="o">!</span>
    <span class="p">}</span>
    <span class="p">...</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p><strong>Commissioning Data</strong> - This object contains the passcode, discriminator,
etc. which identify the app and are provided to the <code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code> during
the commissioning process. â€œA Passcode SHALL be included as a 27-bit
unsigned integer, which serves as proof of possession during commissioning.â€
â€œA Discriminator SHALL be included as a 12-bit unsigned integer, which SHALL
match the value which a device advertises during commissioning.â€ Refer to
the Matter specificationâ€™s â€œOnboarding Payloadâ€ section for more details on
commissioning data.</p>
<p>For the optional <code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code> / Commissioner-Generated Passcode User
Directed Commissioning (UDC) feature, the Commissioning <code class="docutils literal notranslate"><span class="pre">DataProvider</span></code> needs
to be updated during the commissioning process. In this scenario, the
<code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code> generates a Passcode and displays it for the user. The user
enters the Passcode on the UX of the Casting Client which should update its
Commissioning <code class="docutils literal notranslate"><span class="pre">DataProvider</span></code>. This allows the Matter Casting Library to run
commissioning with the <code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code> using a PAKE verifier based on the
user-entered passcode. See the Matter specificationâ€™s UDC section for more
information on the Commissioner-Generated Passcode feature.</p>
<p>On Linux, define a function <code class="docutils literal notranslate"><span class="pre">InitCommissionableDataProvider</span></code> to initialize a
<code class="docutils literal notranslate"><span class="pre">LinuxCommissionableDataProvider</span></code> that can provide the required values to
the <code class="docutils literal notranslate"><span class="pre">CastingApp</span></code>.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">CHIP_ERROR</span><span class="w"> </span><span class="nf">InitCommissionableDataProvider</span><span class="p">(</span><span class="n">LinuxCommissionableDataProvider</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">provider</span><span class="p">,</span><span class="w"> </span><span class="n">LinuxDeviceOptions</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">options</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">chip</span><span class="o">::</span><span class="n">Optional</span><span class="o">&lt;</span><span class="kt">uint32_t</span><span class="o">&gt;</span><span class="w"> </span><span class="n">setupPasscode</span><span class="p">;</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">options</span><span class="p">.</span><span class="n">payload</span><span class="p">.</span><span class="n">setUpPINCode</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">setupPasscode</span><span class="p">.</span><span class="n">SetValue</span><span class="p">(</span><span class="n">options</span><span class="p">.</span><span class="n">payload</span><span class="p">.</span><span class="n">setUpPINCode</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">options</span><span class="p">.</span><span class="n">spake2pVerifier</span><span class="p">.</span><span class="n">HasValue</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// default to TestOnlyCommissionableDataProvider for demonstration</span>
<span class="w">        </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">defaultTestPasscode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">        </span><span class="n">chip</span><span class="o">::</span><span class="n">DeviceLayer</span><span class="o">::</span><span class="n">TestOnlyCommissionableDataProvider</span><span class="w"> </span><span class="n">TestOnlyCommissionableDataProvider</span><span class="p">;</span>
<span class="w">        </span><span class="n">VerifyOrDie</span><span class="p">(</span><span class="n">TestOnlyCommissionableDataProvider</span><span class="p">.</span><span class="n">GetSetupPasscode</span><span class="p">(</span><span class="n">defaultTestPasscode</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">CHIP_NO_ERROR</span><span class="p">);</span>
<span class="w">        </span><span class="n">setupPasscode</span><span class="p">.</span><span class="n">SetValue</span><span class="p">(</span><span class="n">defaultTestPasscode</span><span class="p">);</span>
<span class="w">        </span><span class="n">options</span><span class="p">.</span><span class="n">payload</span><span class="p">.</span><span class="n">setUpPINCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">defaultTestPasscode</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">spake2pIterationCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">chip</span><span class="o">::</span><span class="n">Crypto</span><span class="o">::</span><span class="n">kSpake2p_Min_PBKDF_Iterations</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">options</span><span class="p">.</span><span class="n">spake2pIterations</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">spake2pIterationCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">options</span><span class="p">.</span><span class="n">spake2pIterations</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">provider</span><span class="p">.</span><span class="n">Init</span><span class="p">(</span><span class="n">options</span><span class="p">.</span><span class="n">spake2pVerifier</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">.</span><span class="n">spake2pSalt</span><span class="p">,</span><span class="w"> </span><span class="n">spake2pIterationCount</span><span class="p">,</span><span class="w"> </span><span class="n">setupPasscode</span><span class="p">,</span>
<span class="w">                     </span><span class="n">options</span><span class="p">.</span><span class="n">payload</span><span class="p">.</span><span class="n">discriminator</span><span class="p">.</span><span class="n">GetLongValue</span><span class="p">());</span>
<span class="p">}</span>
</pre></div>
</div>
<p>On Linux, if using the <code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code> / Commissioner-Generated Passcode UDC
feature, set up a new <code class="docutils literal notranslate"><span class="pre">LinuxCommissionableDataProvider</span></code> when called back on
the <code class="docutils literal notranslate"><span class="pre">CommissionerDeclarationCallback</span></code> during the
<a class="reference internal" href="#connect-to-a-casting-player">VerifyOrEstablishConnection()</a> API call
(described later). The <code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code> generated passcode (as entered by the
user on the Casting Client UX) should be set in this
<code class="docutils literal notranslate"><span class="pre">LinuxCommissionableDataProvider</span></code> which should then be passed to the
CastingApp using the <code class="docutils literal notranslate"><span class="pre">UpdateCommissionableDataProvider</span></code> API.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="n">LinuxDeviceOptions</span><span class="o">::</span><span class="n">GetInstance</span><span class="p">().</span><span class="n">payload</span><span class="p">.</span><span class="n">setUpPINCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">userEnteredPasscode</span><span class="p">;</span>
<span class="w">    </span><span class="n">LinuxCommissionableDataProvider</span><span class="w"> </span><span class="n">gCommissionableDataProvider</span><span class="p">;</span>
<span class="w">    </span><span class="n">CHIP_ERROR</span><span class="w"> </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CHIP_NO_ERROR</span><span class="p">;</span>
<span class="w">    </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">InitCommissionableDataProvider</span><span class="p">(</span><span class="n">gCommissionableDataProvider</span><span class="p">,</span><span class="w"> </span><span class="n">LinuxDeviceOptions</span><span class="o">::</span><span class="n">GetInstance</span><span class="p">());</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">CHIP_NO_ERROR</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">ChipLogError</span><span class="p">(</span><span class="n">AppServer</span><span class="p">,</span>
<span class="w">                        </span><span class="s">&quot;CommandHandler() setcommissionerpasscode InitCommissionableDataProvider() err %&quot;</span><span class="w"> </span><span class="n">CHIP_ERROR_FORMAT</span><span class="p">,</span><span class="w"> </span><span class="n">err</span><span class="p">.</span><span class="n">Format</span><span class="p">());</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">err</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">matter</span><span class="o">::</span><span class="n">casting</span><span class="o">::</span><span class="n">core</span><span class="o">::</span><span class="n">CastingApp</span><span class="o">::</span><span class="n">GetInstance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">UpdateCommissionableDataProvider</span><span class="p">(</span><span class="o">&amp;</span><span class="n">gCommissionableDataProvider</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">CHIP_NO_ERROR</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">ChipLogError</span><span class="p">(</span><span class="n">AppServer</span><span class="p">,</span>
<span class="w">                        </span><span class="s">&quot;CommandHandler() setcommissionerpasscode InitCommissionableDataProvider() err %&quot;</span><span class="w"> </span><span class="n">CHIP_ERROR_FORMAT</span><span class="p">,</span><span class="w"> </span><span class="n">err</span><span class="p">.</span><span class="n">Format</span><span class="p">());</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">err</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
</pre></div>
</div>
<p>On Android, define a <code class="docutils literal notranslate"><span class="pre">commissioningDataProvider</span></code> that can provide the
required values to the <code class="docutils literal notranslate"><span class="pre">CastingApp</span></code>. If using the <code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code> /
Commissioner-Generated Passcode UDC feature, the Casting Client needs to
update this <code class="docutils literal notranslate"><span class="pre">commissioningDataProvider</span></code> during the
<a class="reference internal" href="#connect-to-a-casting-player">verifyOrEstablishConnection()</a> API call
(described later). In the example below,
<code class="docutils literal notranslate"><span class="pre">updateCommissionableDataSetupPasscode</span></code> updates the CommissionableData with
the <code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code> generated passcode entered by the user on the Casting
Client UX.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">CommissionableDataProvider</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">DataProvider</span><span class="o">&lt;</span><span class="n">CommissionableData</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="n">CommissionableData</span><span class="w"> </span><span class="n">commissionableData</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="c1">// Dummy values for commissioning demonstration only. These are hard coded in the example tv-app:</span>
<span class="w">    </span><span class="c1">// connectedhomeip/examples/tv-app/tv-common/src/AppTv.cpp</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">DUMMY_SETUP_PASSCODE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20202021</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">DUMMY_DISCRIMINATOR</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3874</span><span class="p">;</span>

<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">CommissionableData</span><span class="p">(</span><span class="n">DUMMY_SETUP_PASSCODE</span><span class="p">,</span><span class="w"> </span><span class="n">DUMMY_DISCRIMINATOR</span><span class="p">);</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">CommissionableData</span><span class="w"> </span><span class="nf">get</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">commissionableData</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// If using the alternate CastingPlayer / Commissioner-Generated Passcode UDC feature:</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">updateCommissionableDataSetupPasscode</span><span class="p">(</span><span class="kt">long</span><span class="w"> </span><span class="n">setupPasscode</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">discriminator</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">commissionableData</span><span class="p">.</span><span class="na">setSetupPasscode</span><span class="p">(</span><span class="n">setupPasscode</span><span class="p">);</span>
<span class="w">        </span><span class="n">commissionableData</span><span class="p">.</span><span class="na">setDiscriminator</span><span class="p">(</span><span class="n">discriminator</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">};</span>
</pre></div>
</div>
<p>On iOS, add a <code class="docutils literal notranslate"><span class="pre">func</span> <span class="pre">commissioningDataProvider</span></code> to the
<code class="docutils literal notranslate"><span class="pre">MCAppParametersDataSource</span></code> class defined above, that can provide the
required values to the <code class="docutils literal notranslate"><span class="pre">MCCastingApp</span></code>. If using the <code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code> /
Commissioner-Generated Passcode UDC feature, the Casting Client needs to
update this <code class="docutils literal notranslate"><span class="pre">commissioningDataProvider</span></code> during the
<a class="reference internal" href="#connect-to-a-casting-player">VerifyOrEstablishConnection()</a> API call
(described later). In the example below, the <code class="docutils literal notranslate"><span class="pre">update</span></code> function updates the
CommissionableData with the <code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code> generated passcode entered by
the user on the Casting Client UX.</p>
<div class="highlight-swift notranslate"><div class="highlight"><pre><span></span><span class="c1">// Dummy values for demonstration only.</span>
<span class="kd">private</span> <span class="kd">var</span> <span class="nv">commissionableData</span><span class="p">:</span> <span class="n">MCCommissionableData</span> <span class="p">=</span> <span class="n">MCCommissionableData</span><span class="p">(</span>
    <span class="n">passcode</span><span class="p">:</span> <span class="mi">20202021</span><span class="p">,</span>
    <span class="n">discriminator</span><span class="p">:</span> <span class="mi">3874</span><span class="p">,</span>
    <span class="n">spake2pIterationCount</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
    <span class="n">spake2pVerifier</span><span class="p">:</span> <span class="kc">nil</span><span class="p">,</span>
    <span class="n">spake2pSalt</span><span class="p">:</span> <span class="kc">nil</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">castingAppDidReceiveRequestForCommissionableData</span><span class="p">(</span><span class="kc">_</span> <span class="n">sender</span><span class="p">:</span> <span class="nb">Any</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="n">MCCommissionableData</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">commissionableData</span>
<span class="p">}</span>

<span class="c1">// If using the alternate CastingPlayer / Commissioner-Generated Passcode UDC feature:</span>
<span class="kd">func</span> <span class="nf">update</span><span class="p">(</span><span class="kc">_</span> <span class="n">newCommissionableData</span><span class="p">:</span> <span class="n">MCCommissionableData</span><span class="p">)</span> <span class="p">{</span>
    <span class="kc">self</span><span class="p">.</span><span class="n">commissionableData</span> <span class="p">=</span> <span class="n">newCommissionableData</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p><strong>Device Attestation Credentials</strong> - This object contains the
<code class="docutils literal notranslate"><span class="pre">DeviceAttestationCertificate</span></code>, <code class="docutils literal notranslate"><span class="pre">ProductAttestationIntermediateCertificate</span></code>,
etc. and implements a way to sign messages when called upon by the Matter TV
Casting Library as part of the Matter Device Attestation process during
commissioning.</p>
<p>On Linux, implement a define a <code class="docutils literal notranslate"><span class="pre">dacProvider</span></code> to provide the Casting Clientâ€™s
Device Attestation Credentials, by implementing a
<code class="docutils literal notranslate"><span class="pre">chip::Credentials::DeviceAttestationCredentialsProvider</span></code>. For this example,
we will use the <code class="docutils literal notranslate"><span class="pre">chip::Credentials::Examples::ExampleDACProvider</span></code></p>
<p>On Android, define a <code class="docutils literal notranslate"><span class="pre">dacProvider</span></code> to provide the Casting Clientâ€™s Device
Attestation Credentials, by implementing a
<code class="docutils literal notranslate"><span class="pre">com.matter.casting.support.DACProvider</span></code>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">DACProvider</span><span class="w"> </span><span class="n">dacProvider</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DACProviderStub</span><span class="p">();</span>
<span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">DataProvider</span><span class="o">&lt;</span><span class="n">DeviceAttestationCredentials</span><span class="o">&gt;</span><span class="w"> </span><span class="n">dacProvider</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DataProvider</span><span class="o">&lt;</span><span class="n">DeviceAttestationCredentials</span><span class="o">&gt;</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">kDevelopmentDAC_Cert_FFF1_8001</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;MIIB5z...&lt;snipped&gt;...CXE1M=&quot;</span><span class="p">;</span><span class="w">     </span><span class="c1">// dummy values for demonstration only</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">kDevelopmentDAC_PrivateKey_FFF1_8001</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;qrYAror...&lt;snipped&gt;...StE+/8=&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">KPAI_FFF1_8000_Cert_Array</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;MIIByzC...&lt;snipped&gt;...pwP4kQ==&quot;</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">DeviceAttestationCredentials</span><span class="w"> </span><span class="nf">get</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">DeviceAttestationCredentials</span><span class="w"> </span><span class="n">deviceAttestationCredentials</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DeviceAttestationCredentials</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nd">@Override</span>
<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kt">byte</span><span class="o">[]</span><span class="w"> </span><span class="nf">SignWithDeviceAttestationKey</span><span class="p">(</span><span class="kt">byte</span><span class="o">[]</span><span class="w"> </span><span class="n">message</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">	        </span><span class="kt">byte</span><span class="o">[]</span><span class="w"> </span><span class="n">privateKeyBytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Base64</span><span class="p">.</span><span class="na">decode</span><span class="p">(</span><span class="n">kDevelopmentDAC_PrivateKey_FFF1_8001</span><span class="p">,</span><span class="w"> </span><span class="n">Base64</span><span class="p">.</span><span class="na">DEFAULT</span><span class="p">);</span>
<span class="w">	        </span><span class="n">AlgorithmParameters</span><span class="w"> </span><span class="n">algorithmParameters</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AlgorithmParameters</span><span class="p">.</span><span class="na">getInstance</span><span class="p">(</span><span class="s">&quot;EC&quot;</span><span class="p">);</span>
<span class="w">	        </span><span class="n">algorithmParameters</span><span class="p">.</span><span class="na">init</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">ECGenParameterSpec</span><span class="p">(</span><span class="s">&quot;secp256r1&quot;</span><span class="p">));</span>
<span class="w">	        </span><span class="n">ECParameterSpec</span><span class="w"> </span><span class="n">parameterSpec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algorithmParameters</span><span class="p">.</span><span class="na">getParameterSpec</span><span class="p">(</span><span class="n">ECParameterSpec</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">	        </span><span class="n">ECPrivateKeySpec</span><span class="w"> </span><span class="n">ecPrivateKeySpec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ECPrivateKeySpec</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BigInteger</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">privateKeyBytes</span><span class="p">),</span><span class="w"> </span><span class="n">parameterSpec</span><span class="p">);</span>

<span class="w">	        </span><span class="n">KeyFactory</span><span class="w"> </span><span class="n">keyFactory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">KeyFactory</span><span class="p">.</span><span class="na">getInstance</span><span class="p">(</span><span class="s">&quot;EC&quot;</span><span class="p">);</span>
<span class="w">	        </span><span class="n">PrivateKey</span><span class="w"> </span><span class="n">privateKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">keyFactory</span><span class="p">.</span><span class="na">generatePrivate</span><span class="p">(</span><span class="n">ecPrivateKeySpec</span><span class="p">);</span>

<span class="w">	        </span><span class="n">Signature</span><span class="w"> </span><span class="n">signature</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Signature</span><span class="p">.</span><span class="na">getInstance</span><span class="p">(</span><span class="s">&quot;SHA256withECDSA&quot;</span><span class="p">);</span>
<span class="w">	        </span><span class="n">signature</span><span class="p">.</span><span class="na">initSign</span><span class="p">(</span><span class="n">privateKey</span><span class="p">);</span>
<span class="w">	        </span><span class="n">signature</span><span class="p">.</span><span class="na">update</span><span class="p">(</span><span class="n">message</span><span class="p">);</span>

<span class="w">	        </span><span class="k">return</span><span class="w"> </span><span class="n">signature</span><span class="p">.</span><span class="na">sign</span><span class="p">();</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">	        </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="p">};</span>

<span class="w">        </span><span class="n">deviceAttestationCredentials</span><span class="p">.</span><span class="na">setDeviceAttestationCert</span><span class="p">(</span>
<span class="w">        </span><span class="n">Base64</span><span class="p">.</span><span class="na">decode</span><span class="p">(</span><span class="n">kDevelopmentDAC_Cert_FFF1_8001</span><span class="p">,</span><span class="w"> </span><span class="n">Base64</span><span class="p">.</span><span class="na">DEFAULT</span><span class="p">));</span>
<span class="w">        </span><span class="n">deviceAttestationCredentials</span><span class="p">.</span><span class="na">setProductAttestationIntermediateCert</span><span class="p">(</span>
<span class="w">        </span><span class="n">Base64</span><span class="p">.</span><span class="na">decode</span><span class="p">(</span><span class="n">KPAI_FFF1_8000_Cert_Array</span><span class="p">,</span><span class="w"> </span><span class="n">Base64</span><span class="p">.</span><span class="na">DEFAULT</span><span class="p">));</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">deviceAttestationCredentials</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">};</span>
</pre></div>
</div>
<p>On iOS, add functions
<code class="docutils literal notranslate"><span class="pre">castingAppDidReceiveRequestForDeviceAttestationCredentials</span></code> and
<code class="docutils literal notranslate"><span class="pre">didReceiveRequestToSignCertificateRequest</span></code> to the
<code class="docutils literal notranslate"><span class="pre">MCAppParametersDataSource</span></code> class defined above, that can return
<code class="docutils literal notranslate"><span class="pre">MCDeviceAttestationCredentials</span></code> and sign messages for the Casting Client,
respectively.</p>
<div class="highlight-swift notranslate"><div class="highlight"><pre><span></span><span class="c1">// dummy DAC values for demonstration only</span>
<span class="kd">let</span> <span class="nv">kDevelopmentDAC_Cert_FFF1_8001</span><span class="p">:</span> <span class="n">Data</span> <span class="p">=</span> <span class="n">Data</span><span class="p">(</span><span class="n">base64Encoded</span><span class="p">:</span> <span class="s">&quot;MIIB..&lt;snipped&gt;..CXE1M=&quot;</span><span class="p">)</span><span class="o">!</span><span class="p">;</span>
<span class="kd">let</span> <span class="nv">kDevelopmentDAC_PrivateKey_FFF1_8001</span><span class="p">:</span> <span class="n">Data</span> <span class="p">=</span> <span class="n">Data</span><span class="p">(</span><span class="n">base64Encoded</span><span class="p">:</span> <span class="s">&quot;qrYA&lt;snipped&gt;tE+/8=&quot;</span><span class="p">)</span><span class="o">!</span><span class="p">;</span>
<span class="kd">let</span> <span class="nv">kDevelopmentDAC_PublicKey_FFF1_8001</span><span class="p">:</span> <span class="n">Data</span> <span class="p">=</span> <span class="n">Data</span><span class="p">(</span><span class="n">base64Encoded</span><span class="p">:</span> <span class="s">&quot;BEY6&lt;snipped&gt;I=&quot;</span><span class="p">)</span><span class="o">!</span><span class="p">;</span>
<span class="kd">let</span> <span class="nv">KPAI_FFF1_8000_Cert_Array</span><span class="p">:</span> <span class="n">Data</span> <span class="p">=</span> <span class="n">Data</span><span class="p">(</span><span class="n">base64Encoded</span><span class="p">:</span> <span class="s">&quot;MIIB&lt;snipped&gt;4kQ==&quot;</span><span class="p">)</span><span class="o">!</span><span class="p">;</span>
<span class="kd">let</span> <span class="nv">kCertificationDeclaration</span><span class="p">:</span> <span class="n">Data</span> <span class="p">=</span> <span class="n">Data</span><span class="p">(</span><span class="n">base64Encoded</span><span class="p">:</span> <span class="s">&quot;MII&lt;snipped&gt;fA==&quot;</span><span class="p">)</span><span class="o">!</span><span class="p">;</span>

<span class="kd">func</span> <span class="nf">castingAppDidReceiveRequestForDeviceAttestationCredentials</span><span class="p">(</span><span class="kc">_</span> <span class="n">sender</span><span class="p">:</span> <span class="nb">Any</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="n">MCDeviceAttestationCredentials</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">MCDeviceAttestationCredentials</span><span class="p">(</span>
        <span class="n">certificationDeclaration</span><span class="p">:</span> <span class="n">kCertificationDeclaration</span><span class="p">,</span>
        <span class="n">firmwareInformation</span><span class="p">:</span> <span class="n">Data</span><span class="p">(),</span>
        <span class="n">deviceAttestationCert</span><span class="p">:</span> <span class="n">kDevelopmentDAC_Cert_FFF1_8001</span><span class="p">,</span>
        <span class="n">productAttestationIntermediateCert</span><span class="p">:</span> <span class="n">KPAI_FFF1_8000_Cert_Array</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">castingApp</span><span class="p">(</span><span class="kc">_</span> <span class="n">sender</span><span class="p">:</span> <span class="nb">Any</span><span class="p">,</span> <span class="n">didReceiveRequestToSignCertificateRequest</span> <span class="n">csrData</span><span class="p">:</span> <span class="n">Data</span><span class="p">,</span> <span class="n">outRawSignature</span><span class="p">:</span> <span class="nb">AutoreleasingUnsafeMutablePointer</span><span class="p">&lt;</span><span class="bp">NSData</span><span class="p">&gt;)</span> <span class="p">-&gt;</span> <span class="n">MatterError</span> <span class="p">{</span>
    <span class="n">Log</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="s">&quot;castingApp didReceiveRequestToSignCertificateRequest&quot;</span><span class="p">)</span>

    <span class="c1">// get the private SecKey</span>
    <span class="kd">var</span> <span class="nv">privateKeyData</span> <span class="p">=</span> <span class="n">Data</span><span class="p">()</span>
    <span class="n">privateKeyData</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">kDevelopmentDAC_PublicKey_FFF1_8001</span><span class="p">);</span>
    <span class="n">privateKeyData</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">kDevelopmentDAC_PrivateKey_FFF1_8001</span><span class="p">);</span>
    <span class="kd">let</span> <span class="nv">privateSecKey</span><span class="p">:</span> <span class="n">SecKey</span> <span class="p">=</span> <span class="n">SecKeyCreateWithData</span><span class="p">(</span><span class="n">privateKeyData</span> <span class="k">as</span> <span class="bp">NSData</span><span class="p">,</span>
                                <span class="p">[</span>
                                    <span class="n">kSecAttrKeyType</span><span class="p">:</span> <span class="n">kSecAttrKeyTypeECSECPrimeRandom</span><span class="p">,</span>
                                    <span class="n">kSecAttrKeyClass</span><span class="p">:</span> <span class="n">kSecAttrKeyClassPrivate</span><span class="p">,</span>
                                    <span class="n">kSecAttrKeySizeInBits</span><span class="p">:</span> <span class="mi">256</span>
                                <span class="p">]</span> <span class="k">as</span> <span class="bp">NSDictionary</span><span class="p">,</span> <span class="kc">nil</span><span class="p">)</span><span class="o">!</span>

    <span class="c1">// sign csrData to get asn1SignatureData</span>
    <span class="kd">var</span> <span class="nv">error</span><span class="p">:</span> <span class="nb">Unmanaged</span><span class="p">&lt;</span><span class="n">CFError</span><span class="p">&gt;?</span>
    <span class="kd">let</span> <span class="nv">asn1SignatureData</span><span class="p">:</span> <span class="n">CFData</span><span class="p">?</span> <span class="p">=</span> <span class="n">SecKeyCreateSignature</span><span class="p">(</span><span class="n">privateSecKey</span><span class="p">,</span> <span class="p">.</span><span class="n">ecdsaSignatureMessageX962SHA256</span><span class="p">,</span> <span class="n">csrData</span> <span class="k">as</span> <span class="n">CFData</span><span class="p">,</span> <span class="p">&amp;</span><span class="n">error</span><span class="p">)</span>
    <span class="k">if</span><span class="p">(</span><span class="n">error</span> <span class="o">!=</span> <span class="kc">nil</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Log</span><span class="p">.</span><span class="n">error</span><span class="p">(</span><span class="s">&quot;Failed to sign message. Error: </span><span class="si">\(</span><span class="nb">String</span><span class="si">(</span><span class="n">describing</span><span class="p">:</span> <span class="n">error</span><span class="si">))</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">MATTER_ERROR_INVALID_ARGUMENT</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">asn1SignatureData</span> <span class="p">==</span> <span class="kc">nil</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Log</span><span class="p">.</span><span class="n">error</span><span class="p">(</span><span class="s">&quot;Failed to sign message. asn1SignatureData is nil&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">MATTER_ERROR_INVALID_ARGUMENT</span>
    <span class="p">}</span>

    <span class="c1">// convert ASN.1 DER signature to SEC1 raw format</span>
    <span class="k">return</span> <span class="n">MCCryptoUtils</span><span class="p">.</span><span class="n">ecdsaAsn1SignatureToRaw</span><span class="p">(</span><span class="n">withFeLengthBytes</span><span class="p">:</span> <span class="mi">32</span><span class="p">,</span>
                                                <span class="n">asn1Signature</span><span class="p">:</span> <span class="n">asn1SignatureData</span><span class="p">!,</span>
                                                     <span class="n">outRawSignature</span><span class="p">:</span> <span class="p">&amp;</span><span class="n">outRawSignature</span><span class="p">.</span><span class="n">pointee</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ol>
<p>Once you have created the <code class="docutils literal notranslate"><span class="pre">DataProvider</span></code> objects above, you are ready to
initialize the Casting App as described below. Note: When you initialize the
Casting client, make sure your code initializes it only once, before it starts a
Matter casting session.</p>
<p>On Linux, create an <code class="docutils literal notranslate"><span class="pre">AppParameters</span></code> object using the
<code class="docutils literal notranslate"><span class="pre">RotatingDeviceIdUniqueIdProvider</span></code>, <code class="docutils literal notranslate"><span class="pre">LinuxCommissionableDataProvider</span></code>,
<code class="docutils literal notranslate"><span class="pre">CommonCaseDeviceServerInitParamsProvider</span></code>, <code class="docutils literal notranslate"><span class="pre">ExampleDACProvider</span></code> and
<code class="docutils literal notranslate"><span class="pre">DefaultDACVerifier</span></code>, and call <code class="docutils literal notranslate"><span class="pre">CastingApp::GetInstance()-&gt;Initialize</span></code> with it.
Then, call <code class="docutils literal notranslate"><span class="pre">Start</span></code> on the <code class="docutils literal notranslate"><span class="pre">CastingApp</span></code>.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">LinuxCommissionableDataProvider</span><span class="w"> </span><span class="n">gCommissionableDataProvider</span><span class="p">;</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">argv</span><span class="p">[])</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Create AppParameters that need to be passed to CastingApp.Initialize()</span>
<span class="w">    </span><span class="n">AppParameters</span><span class="w"> </span><span class="n">appParameters</span><span class="p">;</span>
<span class="w">    </span><span class="n">RotatingDeviceIdUniqueIdProvider</span><span class="w"> </span><span class="n">rotatingDeviceIdUniqueIdProvider</span><span class="p">;</span>
<span class="w">    </span><span class="n">CommonCaseDeviceServerInitParamsProvider</span><span class="w"> </span><span class="n">serverInitParamsProvider</span><span class="p">;</span>
<span class="w">    </span><span class="n">CHIP_ERROR</span><span class="w"> </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CHIP_NO_ERROR</span><span class="p">;</span>
<span class="w">    </span><span class="n">err</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="n">InitCommissionableDataProvider</span><span class="p">(</span><span class="n">gCommissionableDataProvider</span><span class="p">,</span><span class="w"> </span><span class="n">LinuxDeviceOptions</span><span class="o">::</span><span class="n">GetInstance</span><span class="p">());</span>
<span class="w">    </span><span class="n">VerifyOrReturnValue</span><span class="p">(</span>
<span class="w">        </span><span class="n">err</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">CHIP_NO_ERROR</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="n">ChipLogError</span><span class="p">(</span><span class="n">AppServer</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Initialization of CommissionableDataProvider failed %&quot;</span><span class="w"> </span><span class="n">CHIP_ERROR_FORMAT</span><span class="p">,</span><span class="w"> </span><span class="n">err</span><span class="p">.</span><span class="n">Format</span><span class="p">()));</span>
<span class="w">    </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">appParameters</span><span class="p">.</span><span class="n">Create</span><span class="p">(</span><span class="o">&amp;</span><span class="n">rotatingDeviceIdUniqueIdProvider</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">gCommissionableDataProvider</span><span class="p">,</span>
<span class="w">                               </span><span class="n">chip</span><span class="o">::</span><span class="n">Credentials</span><span class="o">::</span><span class="n">Examples</span><span class="o">::</span><span class="n">GetExampleDACProvider</span><span class="p">(),</span>
<span class="w">                               </span><span class="n">GetDefaultDACVerifier</span><span class="p">(</span><span class="n">chip</span><span class="o">::</span><span class="n">Credentials</span><span class="o">::</span><span class="n">GetTestAttestationTrustStore</span><span class="p">()),</span><span class="w"> </span><span class="o">&amp;</span><span class="n">serverInitParamsProvider</span><span class="p">);</span>
<span class="w">    </span><span class="n">VerifyOrReturnValue</span><span class="p">(</span><span class="n">err</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">CHIP_NO_ERROR</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                        </span><span class="n">ChipLogError</span><span class="p">(</span><span class="n">AppServer</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Creation of AppParameters failed %&quot;</span><span class="w"> </span><span class="n">CHIP_ERROR_FORMAT</span><span class="p">,</span><span class="w"> </span><span class="n">err</span><span class="p">.</span><span class="n">Format</span><span class="p">()));</span>

<span class="w">    </span><span class="c1">// Initialize the CastingApp</span>
<span class="w">    </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CastingApp</span><span class="o">::</span><span class="n">GetInstance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">Initialize</span><span class="p">(</span><span class="n">appParameters</span><span class="p">);</span>
<span class="w">    </span><span class="n">VerifyOrReturnValue</span><span class="p">(</span><span class="n">err</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">CHIP_NO_ERROR</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                        </span><span class="n">ChipLogError</span><span class="p">(</span><span class="n">AppServer</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Initialization of CastingApp failed %&quot;</span><span class="w"> </span><span class="n">CHIP_ERROR_FORMAT</span><span class="p">,</span><span class="w"> </span><span class="n">err</span><span class="p">.</span><span class="n">Format</span><span class="p">()));</span>

<span class="w">    </span><span class="c1">// Initialize Linux KeyValueStoreMgr</span>
<span class="w">    </span><span class="n">chip</span><span class="o">::</span><span class="n">DeviceLayer</span><span class="o">::</span><span class="n">PersistedStorage</span><span class="o">::</span><span class="n">KeyValueStoreMgrImpl</span><span class="p">().</span><span class="n">Init</span><span class="p">(</span><span class="n">CHIP_CONFIG_KVS_PATH</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Start the CastingApp</span>
<span class="w">    </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CastingApp</span><span class="o">::</span><span class="n">GetInstance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">Start</span><span class="p">();</span>
<span class="w">    </span><span class="n">VerifyOrReturnValue</span><span class="p">(</span><span class="n">err</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">CHIP_NO_ERROR</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                        </span><span class="n">ChipLogError</span><span class="p">(</span><span class="n">AppServer</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;CastingApp::Start failed %&quot;</span><span class="w"> </span><span class="n">CHIP_ERROR_FORMAT</span><span class="p">,</span><span class="w"> </span><span class="n">err</span><span class="p">.</span><span class="n">Format</span><span class="p">()));</span>
<span class="w">    </span><span class="p">...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>On Android, create an <code class="docutils literal notranslate"><span class="pre">AppParameters</span></code> object using the
<code class="docutils literal notranslate"><span class="pre">rotatingDeviceIdUniqueIdProvider</span></code>, <code class="docutils literal notranslate"><span class="pre">commissioningDataProvider</span></code>, <code class="docutils literal notranslate"><span class="pre">dacProvider</span></code>
and <code class="docutils literal notranslate"><span class="pre">DataProvider&lt;ConfigurationManager&gt;</span></code>, and call
<code class="docutils literal notranslate"><span class="pre">CastingApp.getInstance().initialize</span></code> with it. Then, call <code class="docutils literal notranslate"><span class="pre">start</span></code> on the
<code class="docutils literal notranslate"><span class="pre">CastingApp</span></code></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">MatterError</span><span class="w"> </span><span class="nf">initAndStart</span><span class="p">(</span><span class="n">Context</span><span class="w"> </span><span class="n">applicationContext</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Create an AppParameters object to pass in global casting parameters to the SDK</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">AppParameters</span><span class="w"> </span><span class="n">appParameters</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="n">AppParameters</span><span class="p">(</span>
<span class="w">            </span><span class="n">applicationContext</span><span class="p">,</span>
<span class="w">            </span><span class="k">new</span><span class="w"> </span><span class="n">DataProvider</span><span class="o">&lt;</span><span class="n">ConfigurationManager</span><span class="o">&gt;</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="nd">@Override</span>
<span class="w">              </span><span class="kd">public</span><span class="w"> </span><span class="n">ConfigurationManager</span><span class="w"> </span><span class="nf">get</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PreferencesConfigurationManager</span><span class="p">(</span>
<span class="w">                    </span><span class="n">applicationContext</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;chip.platform.ConfigurationManager&quot;</span><span class="p">);</span>
<span class="w">              </span><span class="p">}</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="n">rotatingDeviceIdUniqueIdProvider</span><span class="p">,</span>
<span class="w">            </span><span class="n">commissionableDataProvider</span><span class="p">,</span>
<span class="w">            </span><span class="n">dacProvider</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Initialize the SDK using the appParameters and check if it returns successfully</span>
<span class="w">    </span><span class="n">MatterError</span><span class="w"> </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CastingApp</span><span class="p">.</span><span class="na">getInstance</span><span class="p">().</span><span class="na">initialize</span><span class="p">(</span><span class="n">appParameters</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">err</span><span class="p">.</span><span class="na">hasError</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">Log</span><span class="p">.</span><span class="na">e</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Failed to initialize Matter CastingApp&quot;</span><span class="p">);</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">err</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Start the CastingApp</span>
<span class="w">    </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CastingApp</span><span class="p">.</span><span class="na">getInstance</span><span class="p">().</span><span class="na">start</span><span class="p">();</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">err</span><span class="p">.</span><span class="na">hasError</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">Log</span><span class="p">.</span><span class="na">e</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Failed to start Matter CastingApp&quot;</span><span class="p">);</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">err</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">err</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>On iOS, call <code class="docutils literal notranslate"><span class="pre">MCCastingApp.initialize</span></code> with an object of the
<code class="docutils literal notranslate"><span class="pre">MCAppParametersDataSource</span></code>.</p>
<div class="highlight-swift notranslate"><div class="highlight"><pre><span></span><span class="kd">func</span> <span class="nf">initialize</span><span class="p">()</span> <span class="p">-&gt;</span> <span class="n">MatterError</span> <span class="p">{</span>
    <span class="k">if</span> <span class="kd">let</span> <span class="nv">castingApp</span> <span class="p">=</span> <span class="n">MCCastingApp</span><span class="p">.</span><span class="n">getSharedInstance</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">castingApp</span><span class="p">.</span><span class="n">initialize</span><span class="p">(</span><span class="n">with</span><span class="p">:</span> <span class="n">MCAppParametersDataSource</span><span class="p">())</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">MATTER_ERROR_INCORRECT_STATE</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>After initialization, on iOS, call <code class="docutils literal notranslate"><span class="pre">start</span></code> and <code class="docutils literal notranslate"><span class="pre">stop</span></code> on the <code class="docutils literal notranslate"><span class="pre">MCCastingApp</span></code>
shared instance when the App sends the
<code class="docutils literal notranslate"><span class="pre">UIApplication.didBecomeActiveNotification</span></code> and
<code class="docutils literal notranslate"><span class="pre">UIApplication.willResignActiveNotification</span></code></p>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">TvCastingApp</span><span class="o">:</span><span class="w"> </span><span class="n">App</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">Log</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Logger</span><span class="p">(</span><span class="n">subsystem</span><span class="o">:</span><span class="w"> </span><span class="s">&quot;com.matter.casting&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">category</span><span class="o">:</span><span class="w"> </span><span class="s">&quot;TvCastingApp&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">@</span><span class="n">State</span>
<span class="w">    </span><span class="n">var</span><span class="w"> </span><span class="n">firstAppActivation</span><span class="o">:</span><span class="w"> </span><span class="n">Bool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span>

<span class="w">    </span><span class="n">var</span><span class="w"> </span><span class="n">body</span><span class="o">:</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">Scene</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">WindowGroup</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">ContentView</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="n">onAppear</span><span class="p">(</span><span class="n">perform</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">let</span><span class="w"> </span><span class="n">err</span><span class="o">:</span><span class="w"> </span><span class="n">Error</span><span class="o">?</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MCInitializationExample</span><span class="p">().</span><span class="n">initialize</span><span class="p">()</span>
<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="n">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">nil</span>
<span class="w">                    </span><span class="p">{</span>
<span class="w">                        </span><span class="nb">self</span><span class="p">.</span><span class="n">Log</span><span class="p">.</span><span class="n">error</span><span class="p">(</span><span class="s">&quot;MCCastingApp initialization failed \(err)&quot;</span><span class="p">)</span>
<span class="w">                        </span><span class="k">return</span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                </span><span class="p">})</span>
<span class="w">                </span><span class="p">.</span><span class="n">onReceive</span><span class="p">(</span><span class="n">NotificationCenter</span><span class="p">.</span><span class="k">default</span><span class="p">.</span><span class="n">publisher</span><span class="p">(</span><span class="k">for</span><span class="o">:</span><span class="w"> </span><span class="bp">UIApplication</span><span class="p">.</span><span class="n">didBecomeActiveNotification</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">_</span><span class="w"> </span><span class="k">in</span>
<span class="w">                    </span><span class="nb">self</span><span class="p">.</span><span class="n">Log</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="s">&quot;TvCastingApp: UIApplication.didBecomeActiveNotification&quot;</span><span class="p">)</span>
<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">castingApp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MCCastingApp</span><span class="p">.</span><span class="n">getSharedInstance</span><span class="p">()</span>
<span class="w">                    </span><span class="p">{</span>
<span class="w">                        </span><span class="n">castingApp</span><span class="p">.</span><span class="n">start</span><span class="p">(</span><span class="n">completionBlock</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">(</span><span class="n">err</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Error</span><span class="o">?</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="k">in</span>
<span class="w">                            </span><span class="k">if</span><span class="w"> </span><span class="n">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">nil</span>
<span class="w">                            </span><span class="p">{</span>
<span class="w">                                </span><span class="nb">self</span><span class="p">.</span><span class="n">Log</span><span class="p">.</span><span class="n">error</span><span class="p">(</span><span class="s">&quot;MCCastingApp start failed \(err)&quot;</span><span class="p">)</span>
<span class="w">                            </span><span class="p">}</span>
<span class="w">                        </span><span class="p">})</span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">                </span><span class="p">.</span><span class="n">onReceive</span><span class="p">(</span><span class="n">NotificationCenter</span><span class="p">.</span><span class="k">default</span><span class="p">.</span><span class="n">publisher</span><span class="p">(</span><span class="k">for</span><span class="o">:</span><span class="w"> </span><span class="bp">UIApplication</span><span class="p">.</span><span class="n">willResignActiveNotification</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">_</span><span class="w"> </span><span class="k">in</span>
<span class="w">                    </span><span class="nb">self</span><span class="p">.</span><span class="n">Log</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="s">&quot;TvCastingApp: UIApplication.willResignActiveNotification&quot;</span><span class="p">)</span>
<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">castingApp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MCCastingApp</span><span class="p">.</span><span class="n">getSharedInstance</span><span class="p">()</span>
<span class="w">                    </span><span class="p">{</span>
<span class="w">                        </span><span class="n">castingApp</span><span class="p">.</span><span class="n">stop</span><span class="p">(</span><span class="n">completionBlock</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">(</span><span class="n">err</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Error</span><span class="o">?</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="k">in</span>
<span class="w">                            </span><span class="k">if</span><span class="w"> </span><span class="n">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">nil</span>
<span class="w">                            </span><span class="p">{</span>
<span class="w">                                </span><span class="nb">self</span><span class="p">.</span><span class="n">Log</span><span class="p">.</span><span class="n">error</span><span class="p">(</span><span class="s">&quot;MCCastingApp stop failed \(err)&quot;</span><span class="p">)</span>
<span class="w">                            </span><span class="p">}</span>
<span class="w">                        </span><span class="p">})</span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span><span class="w">   </span><span class="c1">// WindowGroup</span>
<span class="w">    </span><span class="p">}</span><span class="w">   </span><span class="c1">// body</span>
<span class="p">}</span><span class="w">   </span><span class="c1">// App</span>
</pre></div>
</div>
<p>Note about on-device cache: The Casting App maintains an on-device cache
containing information about the Casting Players it has connected with so far.
This cached information allows the Casting App to connect with Casting Players
(that it had previously connected with) faster and using fewer resources, by
potentially skipping the longer commissioning process and instead, simply
re-establishing the CASE session. This cache can be cleared by calling the
<code class="docutils literal notranslate"><span class="pre">ClearCache</span></code> API on the <code class="docutils literal notranslate"><span class="pre">CastingApp</span></code>, say when the user signs out of the app.
See API and its documentation for <a class="reference external" href="https://github.com/project-chip/connectedhomeip/blob/master/examples/tv-casting-app/tv-casting-common/core/CastingApp.h">Linux</a>,
<a class="reference external" href="https://github.com/project-chip/connectedhomeip/blob/master/examples/tv-casting-app/android/App/app/src/main/jni/com/matter/casting/core/CastingApp.java">Android</a>
and <a class="reference external" href="https://github.com/project-chip/connectedhomeip/blob/master/examples/tv-casting-app/darwin/MatterTvCastingBridge/MatterTvCastingBridge/MCCastingApp.h">iOS</a>.</p>
</section>
<section id="discover-casting-players">
<h3>Discover Casting Players<a class="headerlink" href="#discover-casting-players" title="Permalink to this heading">#</a></h3>
<p><em>{Complete Discovery examples: <a class="reference external" href="https://github.com/project-chip/connectedhomeip/blob/master/examples/tv-casting-app/linux/simple-app-helper.cpp">Linux</a> |
<a class="reference external" href="https://github.com/project-chip/connectedhomeip/blob/master/examples/tv-casting-app/android/App/app/src/main/java/com/matter/casting/DiscoveryExampleFragment.java">Android</a>
| <a class="reference external" href="https://github.com/project-chip/connectedhomeip/blob/master/examples/tv-casting-app/darwin/TvCasting/TvCasting/MCDiscoveryExampleViewModel.swift">iOS</a>}</em></p>
<p>The Casting Client discovers <code class="docutils literal notranslate"><span class="pre">CastingPlayers</span></code> using Matter Commissioner
discovery over DNS-SD by listening for <code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code> events as they are
discovered, updated, or lost from the network.</p>
<p>On Linux, define a <code class="docutils literal notranslate"><span class="pre">DiscoveryDelegateImpl</span></code> that implements the
<code class="docutils literal notranslate"><span class="pre">matter::casting::core::DiscoveryDelegate</span></code>.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">class</span><span class="w"> </span><span class="n">DiscoveryDelegateImpl</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">public</span><span class="w"> </span><span class="n">DiscoveryDelegate</span><span class="w"> </span><span class="p">{</span>
<span class="n">private</span><span class="o">:</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">commissionersCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>

<span class="n">public</span><span class="o">:</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">HandleOnAdded</span><span class="p">(</span><span class="n">matter</span><span class="o">::</span><span class="n">casting</span><span class="o">::</span><span class="n">memory</span><span class="o">::</span><span class="n">Strong</span><span class="o">&lt;</span><span class="n">CastingPlayer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">player</span><span class="p">)</span><span class="w"> </span><span class="n">override</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">commissionersCount</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">ChipLogProgress</span><span class="p">(</span><span class="n">AppServer</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Select discovered CastingPlayer to request commissioning&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="n">ChipLogProgress</span><span class="p">(</span><span class="n">AppServer</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Example: cast request 0&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="o">++</span><span class="n">commissionersCount</span><span class="p">;</span>
<span class="w">        </span><span class="n">ChipLogProgress</span><span class="p">(</span><span class="n">AppServer</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Discovered CastingPlayer #%d&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">commissionersCount</span><span class="p">);</span>
<span class="w">        </span><span class="n">player</span><span class="o">-&gt;</span><span class="n">LogDetail</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">HandleOnUpdated</span><span class="p">(</span><span class="n">matter</span><span class="o">::</span><span class="n">casting</span><span class="o">::</span><span class="n">memory</span><span class="o">::</span><span class="n">Strong</span><span class="o">&lt;</span><span class="n">CastingPlayer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">player</span><span class="p">)</span><span class="w"> </span><span class="n">override</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">ChipLogProgress</span><span class="p">(</span><span class="n">AppServer</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Updated CastingPlayer with ID: %s&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">player</span><span class="o">-&gt;</span><span class="n">GetId</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">};</span>
</pre></div>
</div>
<p>On Android, implement the <code class="docutils literal notranslate"><span class="pre">CastingPlayerDiscovery.CastingPlayerChangeListener</span></code>.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">CastingPlayerDiscovery</span><span class="p">.</span><span class="na">CastingPlayerChangeListener</span><span class="w"> </span><span class="n">castingPlayerChangeListener</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">CastingPlayerDiscovery</span><span class="p">.</span><span class="na">CastingPlayerChangeListener</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">TAG</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CastingPlayerDiscovery</span><span class="p">.</span><span class="na">CastingPlayerChangeListener</span><span class="p">.</span><span class="na">class</span><span class="p">.</span><span class="na">getSimpleName</span><span class="p">();</span>

<span class="w">        </span><span class="nd">@Override</span>
<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onAdded</span><span class="p">(</span><span class="n">CastingPlayer</span><span class="w"> </span><span class="n">castingPlayer</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">Log</span><span class="p">.</span><span class="na">i</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;onAdded() Discovered CastingPlayer deviceId: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">castingPlayer</span><span class="p">.</span><span class="na">getDeviceId</span><span class="p">());</span>
<span class="w">            </span><span class="c1">// Display CastingPlayer info on the screen</span>
<span class="w">            </span><span class="k">new</span><span class="w"> </span><span class="n">Handler</span><span class="p">(</span><span class="n">Looper</span><span class="p">.</span><span class="na">getMainLooper</span><span class="p">()).</span><span class="na">post</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">arrayAdapter</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">castingPlayer</span><span class="p">);</span>
<span class="w">            </span><span class="p">});</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="nd">@Override</span>
<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onChanged</span><span class="p">(</span><span class="n">CastingPlayer</span><span class="w"> </span><span class="n">castingPlayer</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">Log</span><span class="p">.</span><span class="na">i</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;onChanged() Discovered changes to CastingPlayer with deviceId: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">castingPlayer</span><span class="p">.</span><span class="na">getDeviceId</span><span class="p">());</span>
<span class="w">            </span><span class="c1">// Update the CastingPlayer on the screen</span>
<span class="w">            </span><span class="k">new</span><span class="w"> </span><span class="n">Handler</span><span class="p">(</span><span class="n">Looper</span><span class="p">.</span><span class="na">getMainLooper</span><span class="p">()).</span><span class="na">post</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="kd">final</span><span class="w"> </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">CastingPlayer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">playerInList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">castingPlayerList</span><span class="p">.</span><span class="na">stream</span><span class="p">().</span><span class="na">filter</span><span class="p">(</span><span class="n">node</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">castingPlayer</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">node</span><span class="p">)).</span><span class="na">findFirst</span><span class="p">();</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">playerInList</span><span class="p">.</span><span class="na">isPresent</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">Log</span><span class="p">.</span><span class="na">d</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;onChanged() Updating existing CastingPlayer entry &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">playerInList</span><span class="p">.</span><span class="na">get</span><span class="p">().</span><span class="na">getDeviceId</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; in castingPlayerList list&quot;</span><span class="p">);</span>
<span class="w">                    </span><span class="n">arrayAdapter</span><span class="p">.</span><span class="na">remove</span><span class="p">(</span><span class="n">playerInList</span><span class="p">.</span><span class="na">get</span><span class="p">());</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">                </span><span class="n">arrayAdapter</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">castingPlayer</span><span class="p">);</span>
<span class="w">            </span><span class="p">});</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="nd">@Override</span>
<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onRemoved</span><span class="p">(</span><span class="n">CastingPlayer</span><span class="w"> </span><span class="n">castingPlayer</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">Log</span><span class="p">.</span><span class="na">i</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;onRemoved() Removed CastingPlayer with deviceId: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">castingPlayer</span><span class="p">.</span><span class="na">getDeviceId</span><span class="p">());</span>
<span class="w">            </span><span class="c1">// Remove CastingPlayer from the screen</span>
<span class="w">            </span><span class="k">new</span><span class="w"> </span><span class="n">Handler</span><span class="p">(</span><span class="n">Looper</span><span class="p">.</span><span class="na">getMainLooper</span><span class="p">()).</span><span class="na">post</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="kd">final</span><span class="w"> </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">CastingPlayer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">playerInList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">castingPlayerList</span><span class="p">.</span><span class="na">stream</span><span class="p">().</span><span class="na">filter</span><span class="p">(</span><span class="n">node</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">castingPlayer</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">node</span><span class="p">)).</span><span class="na">findFirst</span><span class="p">();</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">playerInList</span><span class="p">.</span><span class="na">isPresent</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">Log</span><span class="p">.</span><span class="na">d</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;onRemoved() Removing existing CastingPlayer entry &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">playerInList</span><span class="p">.</span><span class="na">get</span><span class="p">().</span><span class="na">getDeviceId</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; in castingPlayerList list&quot;</span><span class="p">);</span>
<span class="w">                    </span><span class="n">arrayAdapter</span><span class="p">.</span><span class="na">remove</span><span class="p">(</span><span class="n">playerInList</span><span class="p">.</span><span class="na">get</span><span class="p">());</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">});</span>
<span class="w">        </span><span class="p">}</span>
<span class="p">};</span>
</pre></div>
</div>
<p>On iOS, implement a <code class="docutils literal notranslate"><span class="pre">func</span> <span class="pre">addDiscoveredCastingPlayers</span></code>,
<code class="docutils literal notranslate"><span class="pre">func</span> <span class="pre">removeDiscoveredCastingPlayers</span></code> and <code class="docutils literal notranslate"><span class="pre">func</span> <span class="pre">updateDiscoveredCastingPlayers</span></code>
which listen to notifications as Casting Players are added, removed, or updated.</p>
<div class="highlight-swift notranslate"><div class="highlight"><pre><span></span><span class="kr">@objc</span>
<span class="kd">func</span> <span class="nf">didAddDiscoveredCastingPlayers</span><span class="p">(</span><span class="n">notification</span><span class="p">:</span> <span class="n">Notification</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Log</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="s">&quot;didAddDiscoveredCastingPlayers() called&quot;</span><span class="p">)</span>
    <span class="k">guard</span> <span class="kd">let</span> <span class="nv">userInfo</span> <span class="p">=</span> <span class="n">notification</span><span class="p">.</span><span class="n">userInfo</span><span class="p">,</span>
        <span class="kd">let</span> <span class="nv">castingPlayer</span>     <span class="p">=</span> <span class="n">userInfo</span><span class="p">[</span><span class="s">&quot;castingPlayer&quot;</span><span class="p">]</span> <span class="k">as</span><span class="p">?</span> <span class="n">MCCastingPlayer</span> <span class="k">else</span> <span class="p">{</span>
        <span class="kc">self</span><span class="p">.</span><span class="n">Log</span><span class="p">.</span><span class="n">error</span><span class="p">(</span><span class="s">&quot;didAddDiscoveredCastingPlayers called with no MCCastingPlayer&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="p">}</span>

    <span class="kc">self</span><span class="p">.</span><span class="n">Log</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="s">&quot;didAddDiscoveredCastingPlayers notified of a MCCastingPlayer with ID: </span><span class="si">\(</span><span class="n">castingPlayer</span><span class="p">.</span><span class="n">identifier</span><span class="si">())</span><span class="s">&quot;</span><span class="p">)</span>
    <span class="n">DispatchQueue</span><span class="p">.</span><span class="n">main</span><span class="p">.</span><span class="k">async</span>
    <span class="p">{</span>
        <span class="kc">self</span><span class="p">.</span><span class="n">displayedCastingPlayers</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">castingPlayer</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kr">@objc</span>
<span class="kd">func</span> <span class="nf">didRemoveDiscoveredCastingPlayers</span><span class="p">(</span><span class="n">notification</span><span class="p">:</span> <span class="n">Notification</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Log</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="s">&quot;didRemoveDiscoveredCastingPlayers() called&quot;</span><span class="p">)</span>
    <span class="k">guard</span> <span class="kd">let</span> <span class="nv">userInfo</span> <span class="p">=</span> <span class="n">notification</span><span class="p">.</span><span class="n">userInfo</span><span class="p">,</span>
        <span class="kd">let</span> <span class="nv">castingPlayer</span>     <span class="p">=</span> <span class="n">userInfo</span><span class="p">[</span><span class="s">&quot;castingPlayer&quot;</span><span class="p">]</span> <span class="k">as</span><span class="p">?</span> <span class="n">MCCastingPlayer</span> <span class="k">else</span> <span class="p">{</span>
        <span class="kc">self</span><span class="p">.</span><span class="n">Log</span><span class="p">.</span><span class="n">error</span><span class="p">(</span><span class="s">&quot;didRemoveDiscoveredCastingPlayers called with no MCCastingPlayer&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="p">}</span>

    <span class="kc">self</span><span class="p">.</span><span class="n">Log</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="s">&quot;didRemoveDiscoveredCastingPlayers notified of a MCCastingPlayer with ID: </span><span class="si">\(</span><span class="n">castingPlayer</span><span class="p">.</span><span class="n">identifier</span><span class="si">())</span><span class="s">&quot;</span><span class="p">)</span>
    <span class="n">DispatchQueue</span><span class="p">.</span><span class="n">main</span><span class="p">.</span><span class="k">async</span>
    <span class="p">{</span>
        <span class="kc">self</span><span class="p">.</span><span class="n">displayedCastingPlayers</span><span class="p">.</span><span class="bp">removeAll</span><span class="p">(</span><span class="k">where</span><span class="p">:</span> <span class="p">{</span><span class="nv">$0</span> <span class="p">==</span> <span class="n">castingPlayer</span><span class="p">})</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kr">@objc</span>
<span class="kd">func</span> <span class="nf">didUpdateDiscoveredCastingPlayers</span><span class="p">(</span><span class="n">notification</span><span class="p">:</span> <span class="n">Notification</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Log</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="s">&quot;didUpdateDiscoveredCastingPlayers() called&quot;</span><span class="p">)</span>
    <span class="k">guard</span> <span class="kd">let</span> <span class="nv">userInfo</span> <span class="p">=</span> <span class="n">notification</span><span class="p">.</span><span class="n">userInfo</span><span class="p">,</span>
        <span class="kd">let</span> <span class="nv">castingPlayer</span>     <span class="p">=</span> <span class="n">userInfo</span><span class="p">[</span><span class="s">&quot;castingPlayer&quot;</span><span class="p">]</span> <span class="k">as</span><span class="p">?</span> <span class="n">MCCastingPlayer</span> <span class="k">else</span> <span class="p">{</span>
        <span class="kc">self</span><span class="p">.</span><span class="n">Log</span><span class="p">.</span><span class="n">error</span><span class="p">(</span><span class="s">&quot;didUpdateDiscoveredCastingPlayers called with no MCCastingPlayer&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="p">}</span>

    <span class="kc">self</span><span class="p">.</span><span class="n">Log</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="s">&quot;didUpdateDiscoveredCastingPlayers notified of a MCCastingPlayer with ID: </span><span class="si">\(</span><span class="n">castingPlayer</span><span class="p">.</span><span class="n">identifier</span><span class="si">())</span><span class="s">&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="kd">let</span> <span class="nv">index</span> <span class="p">=</span> <span class="n">displayedCastingPlayers</span><span class="p">.</span><span class="n">firstIndex</span><span class="p">(</span><span class="k">where</span><span class="p">:</span> <span class="p">{</span> <span class="n">castingPlayer</span><span class="p">.</span><span class="n">identifier</span><span class="p">()</span> <span class="p">==</span> <span class="nv">$0</span><span class="p">.</span><span class="n">identifier</span><span class="p">()</span> <span class="p">})</span>
    <span class="p">{</span>
        <span class="n">DispatchQueue</span><span class="p">.</span><span class="n">main</span><span class="p">.</span><span class="k">async</span>
        <span class="p">{</span>
            <span class="kc">self</span><span class="p">.</span><span class="n">displayedCastingPlayers</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="p">=</span> <span class="n">castingPlayer</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Finally, register these listeners and start discovery.</p>
<p>On Linux, register an instance of the <code class="docutils literal notranslate"><span class="pre">DiscoveryDelegateImpl</span></code> with
<code class="docutils literal notranslate"><span class="pre">matter::casting::core::CastingPlayerDiscovery</span></code> by calling <code class="docutils literal notranslate"><span class="pre">SetDelegate</span></code> on its
singleton instance. Then, call <code class="docutils literal notranslate"><span class="pre">StartDiscovery</span></code> by optionally specifying the
<code class="docutils literal notranslate"><span class="pre">kTargetPlayerDeviceType</span></code> to filter results by.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">kTargetPlayerDeviceType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">35</span><span class="p">;</span><span class="w"> </span><span class="c1">// 35 represents device type of Matter Video Player</span>
<span class="p">...</span>
<span class="p">...</span>
<span class="n">DiscoveryDelegateImpl</span><span class="w"> </span><span class="n">delegate</span><span class="p">;</span>
<span class="n">CastingPlayerDiscovery</span><span class="o">::</span><span class="n">GetInstance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">SetDelegate</span><span class="p">(</span><span class="o">&amp;</span><span class="n">delegate</span><span class="p">);</span>
<span class="n">VerifyOrReturnValue</span><span class="p">(</span><span class="n">err</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">CHIP_NO_ERROR</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                    </span><span class="n">ChipLogError</span><span class="p">(</span><span class="n">AppServer</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;CastingPlayerDiscovery::SetDelegate failed %&quot;</span><span class="w"> </span><span class="n">CHIP_ERROR_FORMAT</span><span class="p">,</span><span class="w"> </span><span class="n">err</span><span class="p">.</span><span class="n">Format</span><span class="p">()));</span>

<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CastingPlayerDiscovery</span><span class="o">::</span><span class="n">GetInstance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">StartDiscovery</span><span class="p">(</span><span class="n">kTargetPlayerDeviceType</span><span class="p">);</span>
<span class="n">VerifyOrReturnValue</span><span class="p">(</span><span class="n">err</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">CHIP_NO_ERROR</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                    </span><span class="n">ChipLogError</span><span class="p">(</span><span class="n">AppServer</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;CastingPlayerDiscovery::StartDiscovery failed %&quot;</span><span class="w"> </span><span class="n">CHIP_ERROR_FORMAT</span><span class="p">,</span><span class="w"> </span><span class="n">err</span><span class="p">.</span><span class="n">Format</span><span class="p">()));</span>
<span class="n">chip</span><span class="o">::</span><span class="n">DeviceLayer</span><span class="o">::</span><span class="n">PlatformMgr</span><span class="p">().</span><span class="n">RunEventLoop</span><span class="p">();</span>
<span class="p">...</span>
</pre></div>
</div>
<p>On Android, add the implemented <code class="docutils literal notranslate"><span class="pre">castingPlayerChangeListener</span></code> as a listener to
the singleton instance of <code class="docutils literal notranslate"><span class="pre">MatterCastingPlayerDiscovery</span></code> to listen to changes in
the discovered Casting Players and call <code class="docutils literal notranslate"><span class="pre">startDiscovery</span></code>.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">MatterError</span><span class="w"> </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MatterCastingPlayerDiscovery</span><span class="p">.</span><span class="na">getInstance</span><span class="p">().</span><span class="na">addCastingPlayerChangeListener</span><span class="p">(</span><span class="n">castingPlayerChangeListener</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">err</span><span class="p">.</span><span class="na">hasError</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Log</span><span class="p">.</span><span class="na">e</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;startDiscovery() addCastingPlayerChangeListener() called, err Add: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">err</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Start discovery</span>
<span class="n">Log</span><span class="p">.</span><span class="na">i</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;startDiscovery() calling CastingPlayerDiscovery.startDiscovery()&quot;</span><span class="p">);</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MatterCastingPlayerDiscovery</span><span class="p">.</span><span class="na">getInstance</span><span class="p">().</span><span class="na">startDiscovery</span><span class="p">(</span><span class="n">DISCOVERY_TARGET_DEVICE_TYPE</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">err</span><span class="p">.</span><span class="na">hasError</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Log</span><span class="p">.</span><span class="na">e</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Error in startDiscovery(): &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">err</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>On iOS, register the listeners by calling <code class="docutils literal notranslate"><span class="pre">addObserver</span></code> on the
<code class="docutils literal notranslate"><span class="pre">NotificationCenter</span></code> with the appropriate selector, and then call start on the
<code class="docutils literal notranslate"><span class="pre">sharedInstance</span></code> of <code class="docutils literal notranslate"><span class="pre">MCCastingPlayerDiscovery</span></code>.</p>
<div class="highlight-swift notranslate"><div class="highlight"><pre><span></span><span class="kd">func</span> <span class="nf">startDiscovery</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">NotificationCenter</span><span class="p">.</span><span class="k">default</span><span class="p">.</span><span class="n">addObserver</span><span class="p">(</span><span class="kc">self</span><span class="p">,</span> <span class="n">selector</span><span class="p">:</span> <span class="k">#selector</span><span class="p">(</span><span class="kc">self</span><span class="p">.</span><span class="n">didAddDiscoveredCastingPlayers</span><span class="p">),</span> <span class="n">name</span><span class="p">:</span> <span class="bp">NSNotification</span><span class="p">.</span><span class="n">Name</span><span class="p">.</span><span class="n">didAddCastingPlayers</span><span class="p">,</span> <span class="n">object</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
    <span class="n">NotificationCenter</span><span class="p">.</span><span class="k">default</span><span class="p">.</span><span class="n">addObserver</span><span class="p">(</span><span class="kc">self</span><span class="p">,</span> <span class="n">selector</span><span class="p">:</span> <span class="k">#selector</span><span class="p">(</span><span class="kc">self</span><span class="p">.</span><span class="n">didRemoveDiscoveredCastingPlayers</span><span class="p">),</span> <span class="n">name</span><span class="p">:</span> <span class="bp">NSNotification</span><span class="p">.</span><span class="n">Name</span><span class="p">.</span><span class="n">didRemoveCastingPlayers</span><span class="p">,</span> <span class="n">object</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
    <span class="n">NotificationCenter</span><span class="p">.</span><span class="k">default</span><span class="p">.</span><span class="n">addObserver</span><span class="p">(</span><span class="kc">self</span><span class="p">,</span> <span class="n">selector</span><span class="p">:</span> <span class="k">#selector</span><span class="p">(</span><span class="kc">self</span><span class="p">.</span><span class="n">didUpdateDiscoveredCastingPlayers</span><span class="p">),</span> <span class="n">name</span><span class="p">:</span> <span class="bp">NSNotification</span><span class="p">.</span><span class="n">Name</span><span class="p">.</span><span class="n">didUpdateCastingPlayers</span><span class="p">,</span> <span class="n">object</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>

    <span class="n">MCCastingPlayerDiscovery</span><span class="p">.</span><span class="n">sharedInstance</span><span class="p">().</span><span class="n">start</span><span class="p">()</span>
    <span class="p">...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note: You will need to connect with a Casting Player as described below to se
the list of Endpoints that they support. Refer to the
<a class="reference internal" href="#connect-to-a-casting-player">Connection</a> section for details on how to
discover available endpoints supported by a Casting Player.</p>
</section>
<section id="connect-to-a-casting-player">
<h3>Connect to a Casting Player<a class="headerlink" href="#connect-to-a-casting-player" title="Permalink to this heading">#</a></h3>
<p><em>{Complete Connection examples: <a class="reference external" href="https://github.com/project-chip/connectedhomeip/blob/master/examples/tv-casting-app/linux/simple-app-helper.cpp">Linux</a> |
<a class="reference external" href="https://github.com/project-chip/connectedhomeip/blob/master/examples/tv-casting-app/android/App/app/src/main/java/com/matter/casting/ConnectionExampleFragment.java">Android</a>
| <a class="reference external" href="https://github.com/project-chip/connectedhomeip/blob/master/examples/tv-casting-app/darwin/TvCasting/TvCasting/MCConnectionExampleViewModel.swift">iOS</a>}</em></p>
<p>Each <code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code> object created during
<a class="reference internal" href="#discover-casting-players">Discovery</a> contains information such as
<code class="docutils literal notranslate"><span class="pre">deviceName</span></code>, <code class="docutils literal notranslate"><span class="pre">vendorId</span></code>, <code class="docutils literal notranslate"><span class="pre">productId</span></code>, etc. which can help the user pick the
right <code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code>. A Casting Client can attempt to connect to the
<code class="docutils literal notranslate"><span class="pre">selectedCastingPlayer</span></code> using Matter User Directed Commissioning (UDC), where
the Casting Client generates the passcode. Alternately, a Casting Client can
attempt to connect to a <code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code>, using the <code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code>/
Commissioner-Generated Passcode UDC feature, if the
<code class="docutils literal notranslate"><span class="pre">supportsCommissionerGeneratedPasscode</span></code> flag on the <code class="docutils literal notranslate"><span class="pre">selectedCastingPlayer</span></code> is
set to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p>
<p>For a Casting Client to connect to a <code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code> using the optional
<code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code> / Commissioner-Generated Passcode UDC feature, the Casting
Client may specify optional parameters in the <code class="docutils literal notranslate"><span class="pre">VerifyOrEstablishConnection</span></code>
function call and then respond to the CastingPlayerâ€™s CommissionerDeclaration
message as follows:</p>
<ol class="arabic simple">
<li><p>In <code class="docutils literal notranslate"><span class="pre">VerifyOrEstablishConnection</span></code> the Casting Client should set the UDC
IdentificationDeclaration <code class="docutils literal notranslate"><span class="pre">CommissionerPasscode</span></code> field to true and provide a
<code class="docutils literal notranslate"><span class="pre">CommissionerDeclarationCallback</span></code> in the <code class="docutils literal notranslate"><span class="pre">ConnectionCallbacks</span></code> parameter to
handle the CastingPlayerâ€™s CommissionerDeclaration message during
commissioning.</p></li>
<li><p>Upon receiving the CastingPlayerâ€™s CommissionerDeclaration message with
PasscodeDialogDisplayed set to true, the Casting Client should prompt the
user to input the Passcode displayed on the <code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code> UX. If the user
declines to enter the Passcode, the Casting Client should call
<code class="docutils literal notranslate"><span class="pre">StopConnecting</span></code> to alert the <code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code> that the commissioning attempt
was canceled.</p></li>
<li><p>The Casting Client should then update the passcode to be used for
commissioning session to the user-entered Passcode. Refer to how to set up
the <code class="docutils literal notranslate"><span class="pre">commissioningDataProvider</span></code> in
<a class="reference internal" href="#initialize-the-casting-client">Initialize the Casting Client</a> section
above.</p></li>
<li><p>Finally, the Casting Client should call <code class="docutils literal notranslate"><span class="pre">ContinueConnecting</span></code> to send a second
IdentificationDeclaration message to the <code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code> with
<code class="docutils literal notranslate"><span class="pre">CommissionerPasscodeReady</span></code> in <code class="docutils literal notranslate"><span class="pre">IdentificationDeclarationOptions</span></code> set to
true.</p></li>
</ol>
<p>The Matter TV Casting library locally caches information required to reconnect
to a <code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code>, once the Casting client has been commissioned by it. After
that, the Casting client is able to skip the full UDC process by establishing
CASE with the <code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code> directly. Once connected, the <code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code>
object will contain the list of available Endpoints on that <code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code>.
Optionally, the following arguments may also be passed in. The optional
<code class="docutils literal notranslate"><span class="pre">commissioningWindowTimeoutSec</span></code> indicates how long to keep the commissioning
window open, if commissioning is required. And <code class="docutils literal notranslate"><span class="pre">DesiredEndpointFilter</span></code> specifies
the attributes, such as Vendor ID and Product ID of the <code class="docutils literal notranslate"><span class="pre">Endpoint</span></code>, the Casting
client desires to interact with after connecting. This forces the Matter TV
Casting library to go through the full UDC process in search of the desired
Endpoint, in cases where it is not available in the Casting clientâ€™s cache.</p>
<p>On Linux, the Casting Client can connect to a <code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code> by successfully
calling <code class="docutils literal notranslate"><span class="pre">VerifyOrEstablishConnection</span></code> on it. Alternately, the Casting Client can
connect to a <code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code> using the <code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code> / Commissioner-Generated
Passcode UDC feature, by successfully calling <code class="docutils literal notranslate"><span class="pre">VerifyOrEstablishConnection</span></code>,
updating the commissioning passcode and then calling <code class="docutils literal notranslate"><span class="pre">ContinueConnecting</span></code> on the
<code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code>.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// VendorId of the Endpoint on the CastingPlayer that the CastingApp desires to interact with after connection</span>
<span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">kDesiredEndpointVendorId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">65521</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">ConnectionHandler</span><span class="p">(</span><span class="n">CHIP_ERROR</span><span class="w"> </span><span class="n">err</span><span class="p">,</span><span class="w"> </span><span class="n">matter</span><span class="o">::</span><span class="n">casting</span><span class="o">::</span><span class="n">core</span><span class="o">::</span><span class="n">CastingPlayer</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">castingPlayer</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">err</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">CHIP_NO_ERROR</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">ChipLogProgress</span><span class="p">(</span><span class="n">AppServer</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;ConnectionHandler: Successfully connected to CastingPlayer(ID: %s)&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">castingPlayer</span><span class="o">-&gt;</span><span class="n">GetId</span><span class="p">());</span>
<span class="w">        </span><span class="p">...</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// If using the alternate CastingPlayer / Commissioner-Generated Passcode UDC feature:</span>
<span class="c1">// Define a callback to handle CastingPlayerâ€™s CommissionerDeclaration messages.</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">CommissionerDeclarationCallback</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">chip</span><span class="o">::</span><span class="n">Transport</span><span class="o">::</span><span class="n">PeerAddress</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">source</span><span class="p">,</span>
<span class="w">                                     </span><span class="n">chip</span><span class="o">::</span><span class="n">Protocols</span><span class="o">::</span><span class="n">UserDirectedCommissioning</span><span class="o">::</span><span class="n">CommissionerDeclaration</span><span class="w"> </span><span class="n">cd</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">ChipLogProgress</span><span class="p">(</span><span class="n">AppServer</span><span class="p">,</span>
<span class="w">                    </span><span class="s">&quot;simple-app-helper.cpp::CommissionerDeclarationCallback() called with CommissionerDeclaration message:&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cd</span><span class="p">.</span><span class="n">GetCommissionerPasscode</span><span class="p">())</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// A Passcode is now displayed for the user by the CastingPlayer. Prompt the user to enter the Passcode.</span>
<span class="w">        </span><span class="p">...</span>

<span class="w">        </span><span class="c1">// Update the commissioning session&#39;s passcode with the user-entered Passcode</span>
<span class="w">        </span><span class="n">LinuxDeviceOptions</span><span class="o">::</span><span class="n">GetInstance</span><span class="p">().</span><span class="n">payload</span><span class="p">.</span><span class="n">setUpPINCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">userEnteredPasscode</span><span class="p">;</span>
<span class="w">        </span><span class="n">LinuxCommissionableDataProvider</span><span class="w"> </span><span class="n">gCommissionableDataProvider</span><span class="p">;</span>
<span class="w">        </span><span class="n">CHIP_ERROR</span><span class="w"> </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CHIP_NO_ERROR</span><span class="p">;</span>
<span class="w">        </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">InitCommissionableDataProvider</span><span class="p">(</span><span class="n">gCommissionableDataProvider</span><span class="p">,</span><span class="w"> </span><span class="n">LinuxDeviceOptions</span><span class="o">::</span><span class="n">GetInstance</span><span class="p">());</span>
<span class="w">        </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">matter</span><span class="o">::</span><span class="n">casting</span><span class="o">::</span><span class="n">core</span><span class="o">::</span><span class="n">CastingApp</span><span class="o">::</span><span class="n">GetInstance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">UpdateCommissionableDataProvider</span><span class="p">(</span><span class="o">&amp;</span><span class="n">gCommissionableDataProvider</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// Call continueConnecting to complete commissioning.</span>
<span class="w">        </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">targetCastingPlayer</span><span class="o">-&gt;</span><span class="n">ContinueConnecting</span><span class="p">();</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">CHIP_NO_ERROR</span><span class="p">)</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="n">ChipLogError</span><span class="p">(</span><span class="n">AppServer</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;CommandHandler() setcommissionerpasscode ContinueConnecting() err %&quot;</span><span class="w"> </span><span class="n">CHIP_ERROR_FORMAT</span><span class="p">,</span>
<span class="w">                            </span><span class="n">err</span><span class="p">.</span><span class="n">Format</span><span class="p">());</span>
<span class="w">            </span><span class="c1">// Since continueConnecting() failed, Attempt to cancel the connection attempt with</span>
<span class="w">            </span><span class="c1">// the CastingPlayer/Commissioner by calling StopConnecting().</span>
<span class="w">            </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">targetCastingPlayer</span><span class="o">-&gt;</span><span class="n">StopConnecting</span><span class="p">();</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">CHIP_NO_ERROR</span><span class="p">)</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="n">ChipLogError</span><span class="p">(</span><span class="n">AppServer</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;CommandHandler() setcommissionerpasscode, ContinueConnecting() failed and then StopConnecting failed due to err %&quot;</span><span class="w"> </span><span class="n">CHIP_ERROR_FORMAT</span><span class="p">,</span><span class="w"> </span><span class="n">err</span><span class="p">.</span><span class="n">Format</span><span class="p">());</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Specify the TargetApp that the client wants to interact with after commissioning. If this value is passed in,</span>
<span class="c1">// VerifyOrEstablishConnection() will force UDC, in case the desired TargetApp is not found in the on-device</span>
<span class="c1">// CastingStore</span>
<span class="n">matter</span><span class="o">::</span><span class="n">casting</span><span class="o">::</span><span class="n">core</span><span class="o">::</span><span class="n">IdentificationDeclarationOptions</span><span class="w"> </span><span class="n">idOptions</span><span class="p">;</span>
<span class="n">chip</span><span class="o">::</span><span class="n">Protocols</span><span class="o">::</span><span class="n">UserDirectedCommissioning</span><span class="o">::</span><span class="n">TargetAppInfo</span><span class="w"> </span><span class="n">targetAppInfo</span><span class="p">;</span>
<span class="n">targetAppInfo</span><span class="p">.</span><span class="n">vendorId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">kDesiredEndpointVendorId</span><span class="p">;</span>
<span class="n">CHIP_ERROR</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">idOptions</span><span class="p">.</span><span class="n">addTargetAppInfo</span><span class="p">(</span><span class="n">targetAppInfo</span><span class="p">);</span>

<span class="n">matter</span><span class="o">::</span><span class="n">casting</span><span class="o">::</span><span class="n">core</span><span class="o">::</span><span class="n">ConnectionCallbacks</span><span class="w"> </span><span class="n">connectionCallbacks</span><span class="p">;</span>
<span class="n">connectionCallbacks</span><span class="p">.</span><span class="n">mOnConnectionComplete</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ConnectionHandler</span><span class="p">;</span>

<span class="c1">// If using the alternate CastingPlayer / Commissioner-Generated Passcode UDC feature:</span>
<span class="c1">// Set the IdentificationDeclaration CommissionerPasscode flag to instruct the CastingPlayer /</span>
<span class="c1">// Commissioner to use the Commissioner-generated Passcode for commissioning. Set the</span>
<span class="c1">// CommissionerDeclarationCallback in ConnectionCallbacks.</span>
<span class="n">idOptions</span><span class="p">.</span><span class="n">mCommissionerPasscode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="n">connectionCallbacks</span><span class="p">.</span><span class="n">mCommissionerDeclarationCallback</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CommissionerDeclarationCallback</span><span class="p">;</span>

<span class="c1">// targetCastingPlayer is a discovered CastingPlayer</span>
<span class="n">targetCastingPlayer</span><span class="o">-&gt;</span><span class="n">VerifyOrEstablishConnection</span><span class="p">(</span><span class="n">connectionCallbacks</span><span class="p">,</span>
<span class="w">                                                    </span><span class="n">matter</span><span class="o">::</span><span class="n">casting</span><span class="o">::</span><span class="n">core</span><span class="o">::</span><span class="n">kCommissioningWindowTimeoutSec</span><span class="p">,</span>
<span class="w">                                                    </span><span class="n">idOptions</span><span class="p">);</span>
<span class="p">...</span>
</pre></div>
</div>
<p>On Android, the Casting Client may call <code class="docutils literal notranslate"><span class="pre">verifyOrEstablishConnection</span></code> on the
<code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code> object it wants to connect to. Alternately, the Casting Client
can connect to a <code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code>, using the <code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code> /
Commissioner-Generated Passcode UDC feature by successfully calling
<code class="docutils literal notranslate"><span class="pre">verifyOrEstablishConnection</span></code>, updating the commissioning passcode and then
calling <code class="docutils literal notranslate"><span class="pre">continueConnecting</span></code> on the <code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code>.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">short</span><span class="w"> </span><span class="n">MIN_CONNECTION_TIMEOUT_SEC</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">60</span><span class="p">;</span>
<span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">DESIRED_TARGET_APP_VENDOR_ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">65521</span><span class="p">;</span>

<span class="c1">// Specify the TargetApp that the client wants to interact with after commissioning. If this value is passed in,</span>
<span class="c1">// VerifyOrEstablishConnection() will force UDC, in case the desired TargetApp is not found in the on-device</span>
<span class="c1">// CastingStore</span>
<span class="n">IdentificationDeclarationOptions</span><span class="w"> </span><span class="n">idOptions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IdentificationDeclarationOptions</span><span class="p">();</span>
<span class="n">TargetAppInfo</span><span class="w"> </span><span class="n">targetAppInfo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">TargetAppInfo</span><span class="p">(</span><span class="n">DESIRED_TARGET_APP_VENDOR_ID</span><span class="p">);</span>
<span class="n">idOptions</span><span class="p">.</span><span class="na">addTargetAppInfo</span><span class="p">(</span><span class="n">targetAppInfo</span><span class="p">);</span>

<span class="c1">// If using the alternate CastingPlayer / Commissioner-Generated Passcode UDC feature.</span>
<span class="c1">// Set the IdentificationDeclaration CommissionerPasscode flag to instruct the CastingPlayer /</span>
<span class="c1">// Commissioner to use the Commissioner-generated Passcode for commissioning.</span>
<span class="n">idOptions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IdentificationDeclarationOptions</span><span class="p">(</span><span class="n">commissionerPasscode</span><span class="p">:</span><span class="kc">true</span><span class="p">);</span>
<span class="n">idOptions</span><span class="p">.</span><span class="na">addTargetAppInfo</span><span class="p">(</span><span class="n">targetAppInfo</span><span class="p">);</span>

<span class="n">ConnectionCallbacks</span><span class="w"> </span><span class="n">connectionCallbacks</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">ConnectionCallbacks</span><span class="p">(</span>
<span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="n">MatterCallback</span><span class="o">&lt;</span><span class="n">Void</span><span class="o">&gt;</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nd">@Override</span>
<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">handle</span><span class="p">(</span><span class="n">Void</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">Log</span><span class="p">.</span><span class="na">i</span><span class="p">(</span>
<span class="w">                </span><span class="n">TAG</span><span class="p">,</span>
<span class="w">                </span><span class="s">&quot;Successfully connected to CastingPlayer with deviceId: &quot;</span>
<span class="w">                    </span><span class="o">+</span><span class="w"> </span><span class="n">targetCastingPlayer</span><span class="p">.</span><span class="na">getDeviceId</span><span class="p">());</span>
<span class="w">            </span><span class="n">getActivity</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">runOnUiThread</span><span class="p">(</span>
<span class="w">                    </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">connectionFragmentStatusTextView</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span>
<span class="w">                        </span><span class="s">&quot;Successfully connected to Casting Player with device name: &quot;</span>
<span class="w">                            </span><span class="o">+</span><span class="w"> </span><span class="n">targetCastingPlayer</span><span class="p">.</span><span class="na">getDeviceName</span><span class="p">()</span>
<span class="w">                            </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;\n\n&quot;</span><span class="p">);</span>
<span class="w">                    </span><span class="n">connectionFragmentNextButton</span><span class="p">.</span><span class="na">setEnabled</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="w">                    </span><span class="p">});</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="n">MatterCallback</span><span class="o">&lt;</span><span class="n">MatterError</span><span class="o">&gt;</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nd">@Override</span>
<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">handle</span><span class="p">(</span><span class="n">MatterError</span><span class="w"> </span><span class="n">err</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">Log</span><span class="p">.</span><span class="na">e</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;CastingPlayer connection failed: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">err</span><span class="p">);</span>
<span class="w">            </span><span class="n">getActivity</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">runOnUiThread</span><span class="p">(</span>
<span class="w">                    </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">connectionFragmentStatusTextView</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span>
<span class="w">                        </span><span class="s">&quot;Casting Player connection failed due to: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">err</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;\n\n&quot;</span><span class="p">);</span>
<span class="w">                    </span><span class="p">});</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="c1">// If using the alternate CastingPlayer / Commissioner-Generated Passcode UDC feature.</span>
<span class="w">        </span><span class="c1">// Define a callback to handle CastingPlayerâ€™s CommissionerDeclaration messages.</span>
<span class="w">        </span><span class="c1">// This can be null if using Casting Client / Commissionee generated passcode commissioning.</span>
<span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="n">MatterCallback</span><span class="o">&lt;</span><span class="n">CommissionerDeclaration</span><span class="o">&gt;</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nd">@Override</span>
<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">handle</span><span class="p">(</span><span class="n">CommissionerDeclaration</span><span class="w"> </span><span class="n">cd</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">getActivity</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">runOnUiThread</span><span class="p">(</span>
<span class="w">                    </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="n">connectionFragmentStatusTextView</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span>
<span class="w">                            </span><span class="s">&quot;CommissionerDeclaration message received from Casting Player: \n\n&quot;</span><span class="p">);</span>
<span class="w">                        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cd</span><span class="p">.</span><span class="na">getCommissionerPasscode</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>

<span class="w">                        </span><span class="n">displayPasscodeInputDialog</span><span class="p">(</span><span class="n">getActivity</span><span class="p">());</span>
<span class="w">                        </span><span class="p">...</span>

<span class="w">                        </span><span class="c1">// Update the commissioning session&#39;s passcode with the user-entered Passcode</span>
<span class="w">                        </span><span class="n">InitializationExample</span><span class="p">.</span><span class="na">commissionableDataProvider</span><span class="p">.</span><span class="na">updateCommissionableDataSetupPasscode</span><span class="p">(</span>
<span class="w">                                        </span><span class="n">passcodeLongValue</span><span class="p">,</span><span class="w"> </span><span class="n">DEFAULT_DISCRIMINATOR_FOR_CGP_FLOW</span><span class="p">);</span>

<span class="w">                        </span><span class="c1">// Call continueConnecting to complete commissioning.</span>
<span class="w">                        </span><span class="n">MatterError</span><span class="w"> </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">targetCastingPlayer</span><span class="p">.</span><span class="na">continueConnecting</span><span class="p">();</span>
<span class="w">                        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">err</span><span class="p">.</span><span class="na">hasError</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                            </span><span class="p">...</span>
<span class="w">                            </span><span class="n">Log</span><span class="p">.</span><span class="na">e</span><span class="p">(</span>
<span class="w">                                </span><span class="n">TAG</span><span class="p">,</span>
<span class="w">                                </span><span class="s">&quot;displayPasscodeInputDialog() continueConnecting() failed, calling stopConnecting() due to: &quot;</span>
<span class="w">                                    </span><span class="o">+</span><span class="w"> </span><span class="n">err</span><span class="p">);</span>
<span class="w">                            </span><span class="c1">// Since continueConnecting() failed, Attempt to cancel the connection attempt with</span>
<span class="w">                            </span><span class="c1">// the CastingPlayer/Commissioner by calling stopConnecting().</span>
<span class="w">                            </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">targetCastingPlayer</span><span class="p">.</span><span class="na">stopConnecting</span><span class="p">();</span>
<span class="w">                            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">err</span><span class="p">.</span><span class="na">hasError</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                                </span><span class="n">Log</span><span class="p">.</span><span class="na">e</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;displayPasscodeInputDialog() stopConnecting() failed due to: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">err</span><span class="p">);</span>
<span class="w">                            </span><span class="p">}</span>
<span class="w">                            </span><span class="p">}</span>
<span class="w">                        </span><span class="p">}</span>
<span class="w">                    </span><span class="p">});</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">);</span>

<span class="n">MatterError</span><span class="w"> </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">targetCastingPlayer</span><span class="p">.</span><span class="na">verifyOrEstablishConnection</span><span class="p">(</span>
<span class="w">        </span><span class="n">connectionCallbacks</span><span class="p">,</span><span class="w"> </span><span class="n">MIN_CONNECTION_TIMEOUT_SEC</span><span class="p">,</span><span class="w"> </span><span class="n">idOptions</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">err</span><span class="p">.</span><span class="na">hasError</span><span class="p">())</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">getActivity</span><span class="p">()</span>
<span class="w">        </span><span class="p">.</span><span class="na">runOnUiThread</span><span class="p">(</span>
<span class="w">            </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">connectionFragmentStatusTextView</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span>
<span class="w">                    </span><span class="s">&quot;Casting Player connection failed due to: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">err</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;\n\n&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="p">});</span>
<span class="p">}</span>
</pre></div>
</div>
<p>On iOS, the Casting Client may call <code class="docutils literal notranslate"><span class="pre">verifyOrEstablishConnection</span></code> on the
<code class="docutils literal notranslate"><span class="pre">MCCastingPlayer</span></code> object it wants to connect to and handle any <code class="docutils literal notranslate"><span class="pre">NSErrors</span></code> that
may happen in the process. Alternately, the Casting Client can connect to a
<code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code> using the <code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code> / Commissioner-Generated Passcode UDC
feature, by successfully calling <code class="docutils literal notranslate"><span class="pre">verifyOrEstablishConnection</span></code>, updating the
commissioning passcode and then calling <code class="docutils literal notranslate"><span class="pre">continueConnecting</span></code> on the
<code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code>.</p>
<div class="highlight-swift notranslate"><div class="highlight"><pre><span></span><span class="c1">// VendorId of the MCEndpoint on the MCCastingPlayer that the MCCastingApp desires to interact with after connection</span>
<span class="kd">let</span> <span class="nv">kDesiredEndpointVendorId</span><span class="p">:</span> <span class="nb">UInt16</span> <span class="p">=</span> <span class="mi">65521</span><span class="p">;</span>

<span class="p">@</span><span class="n">Published</span> <span class="kd">var</span> <span class="nv">connectionSuccess</span><span class="p">:</span> <span class="nb">Bool</span><span class="p">?;</span>

<span class="p">@</span><span class="n">Published</span> <span class="kd">var</span> <span class="nv">connectionStatus</span><span class="p">:</span> <span class="nb">String</span><span class="p">?;</span>

<span class="kd">func</span> <span class="nf">connect</span><span class="p">(</span><span class="n">selectedCastingPlayer</span><span class="p">:</span> <span class="n">MCCastingPlayer</span><span class="p">?)</span> <span class="p">{</span>

    <span class="kd">let</span> <span class="nv">connectionCompleteCallback</span><span class="p">:</span> <span class="p">(</span><span class="n">Swift</span><span class="p">.</span><span class="n">Error</span><span class="p">?)</span> <span class="p">-&gt;</span> <span class="nb">Void</span> <span class="p">=</span> <span class="p">{</span> <span class="n">err</span> <span class="k">in</span>
        <span class="kc">self</span><span class="p">.</span><span class="n">Log</span><span class="p">.</span><span class="n">error</span><span class="p">(</span><span class="s">&quot;MCConnectionExampleViewModel connect() completed with: </span><span class="si">\(</span><span class="n">err</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="n">DispatchQueue</span><span class="p">.</span><span class="n">main</span><span class="p">.</span><span class="k">async</span> <span class="p">{</span>
            <span class="k">if</span> <span class="n">err</span> <span class="p">==</span> <span class="kc">nil</span> <span class="p">{</span>
                <span class="kc">self</span><span class="p">.</span><span class="n">connectionSuccess</span> <span class="p">=</span> <span class="kc">true</span>
                <span class="kc">self</span><span class="p">.</span><span class="n">connectionStatus</span> <span class="p">=</span> <span class="s">&quot;Successfully connected to Casting Player!&quot;</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="kc">self</span><span class="p">.</span><span class="n">connectionSuccess</span> <span class="p">=</span> <span class="kc">false</span>
                <span class="kc">self</span><span class="p">.</span><span class="n">connectionStatus</span> <span class="p">=</span> <span class="s">&quot;Connection to Casting Player failed with: </span><span class="si">\(</span><span class="nb">String</span><span class="si">(</span><span class="n">describing</span><span class="p">:</span> <span class="n">err</span><span class="si">))</span><span class="s">&quot;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1">// If using the alternate CastingPlayer / Commissioner-Generated Passcode UDC feature.</span>
    <span class="c1">// Define a callback to handle CastingPlayerâ€™s CommissionerDeclaration messages.</span>
    <span class="kd">let</span> <span class="nv">commissionerDeclarationCallback</span><span class="p">:</span> <span class="p">(</span><span class="n">MCCommissionerDeclaration</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="nb">Void</span> <span class="p">=</span> <span class="p">{</span> <span class="n">commissionerDeclarationMessage</span> <span class="k">in</span>
        <span class="n">DispatchQueue</span><span class="p">.</span><span class="n">main</span><span class="p">.</span><span class="k">async</span> <span class="p">{</span>
            <span class="kc">self</span><span class="p">.</span><span class="n">Log</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="s">&quot;MCConnectionExampleViewModel connect() commissionerDeclarationCallback, recived a message form the MCCastingPlayer:</span><span class="se">\n</span><span class="si">\(</span><span class="n">commissionerDeclarationMessage</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">commissionerDeclarationMessage</span><span class="p">.</span><span class="n">commissionerPasscode</span> <span class="p">{</span>
                <span class="k">if</span> <span class="kd">let</span> <span class="nv">topViewController</span> <span class="p">=</span> <span class="kc">self</span><span class="p">.</span><span class="n">getTopMostViewController</span><span class="p">()</span> <span class="p">{</span>
                    <span class="kc">self</span><span class="p">.</span><span class="n">displayPasscodeInputDialog</span><span class="p">(</span><span class="n">on</span><span class="p">:</span> <span class="n">topViewController</span><span class="p">,</span> <span class="n">continueConnecting</span><span class="p">:</span> <span class="p">{</span> <span class="n">userEnteredPasscode</span> <span class="k">in</span>
                        <span class="kc">self</span><span class="p">.</span><span class="n">Log</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="s">&quot;MCConnectionExampleViewModel connect() commissionerDeclarationCallback, Continuing to connect with user entered MCCastingPlayer/Commissioner-Generated passcode: </span><span class="si">\(</span><span class="n">passcode</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)</span>

                        <span class="c1">// Update the commissioning session&#39;s passcode with the user-entered Passcode</span>
                        <span class="k">if</span> <span class="kd">let</span> <span class="nv">dataSource</span> <span class="p">=</span> <span class="n">initializationExample</span><span class="p">.</span><span class="n">getAppParametersDataSource</span><span class="p">()</span> <span class="p">{</span>
                            <span class="kd">let</span> <span class="nv">newCommissionableData</span> <span class="p">=</span> <span class="n">MCCommissionableData</span><span class="p">(</span>
                                <span class="n">passcode</span><span class="p">:</span> <span class="nb">UInt32</span><span class="p">(</span><span class="n">userEnteredPasscode</span><span class="p">)</span> <span class="p">??</span> <span class="mi">0</span><span class="p">,</span>
                                <span class="n">discriminator</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                                <span class="p">...</span>
                            <span class="p">)</span>
                            <span class="n">dataSource</span><span class="p">.</span><span class="n">update</span><span class="p">(</span><span class="n">newCommissionableData</span><span class="p">)</span>
                            <span class="p">...</span>
                        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                            <span class="kc">self</span><span class="p">.</span><span class="n">Log</span><span class="p">.</span><span class="n">error</span><span class="p">(</span><span class="s">&quot;MCConnectionExampleViewModel connect() commissionerDeclarationCallback, InitializationExample.getAppParametersDataSource() failed, calling stopConnecting()&quot;</span><span class="p">)</span>
                            <span class="kc">self</span><span class="p">.</span><span class="n">connectionStatus</span> <span class="p">=</span> <span class="s">&quot;Failed to update the MCAppParametersDataSource with the user entered passcode: </span><span class="se">\n\n</span><span class="s">Route back and try again.&quot;</span>
                            <span class="kc">self</span><span class="p">.</span><span class="n">connectionSuccess</span> <span class="p">=</span> <span class="kc">false</span>
                            <span class="c1">// Since we failed to update the passcode, attempt to cancel the connection attempt with</span>
                            <span class="c1">// the CastingPlayer/Commissioner.</span>
                            <span class="kd">let</span> <span class="nv">err</span> <span class="p">=</span> <span class="n">selectedCastingPlayer</span><span class="p">?.</span><span class="n">stopConnecting</span><span class="p">()</span>
                            <span class="k">if</span> <span class="n">err</span> <span class="p">==</span> <span class="kc">nil</span> <span class="p">{</span>
                                <span class="kc">self</span><span class="p">.</span><span class="n">Log</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="s">&quot;MCConnectionExampleViewModel connect() commissionerDeclarationCallback, InitializationExample.getAppParametersDataSource() failed, then stopConnecting() succeeded&quot;</span><span class="p">)</span>
                            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                                <span class="kc">self</span><span class="p">.</span><span class="n">Log</span><span class="p">.</span><span class="n">error</span><span class="p">(</span><span class="s">&quot;MCConnectionExampleViewModel connect() commissionerDeclarationCallback, InitializationExample.getAppParametersDataSource() failed, then stopConnecting() failed due to: </span><span class="si">\(</span><span class="n">err</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)</span>
                            <span class="p">}</span>
                            <span class="k">return</span>
                        <span class="p">}</span>

                        <span class="c1">// Call continueConnecting to complete commissioning.</span>
                        <span class="kd">let</span> <span class="nv">errContinue</span> <span class="p">=</span> <span class="n">selectedCastingPlayer</span><span class="p">?.</span><span class="n">continueConnecting</span><span class="p">()</span>
                        <span class="k">if</span> <span class="n">errContinue</span> <span class="p">==</span> <span class="kc">nil</span> <span class="p">{</span>
                            <span class="kc">self</span><span class="p">.</span><span class="n">connectionStatus</span> <span class="p">=</span> <span class="s">&quot;Continuing to connect with user entered passcode: </span><span class="si">\(</span><span class="n">userEnteredPasscode</span><span class="si">)</span><span class="s">&quot;</span>
                        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                            <span class="kc">self</span><span class="p">.</span><span class="n">connectionStatus</span> <span class="p">=</span> <span class="s">&quot;Continue Connecting to Casting Player failed with: </span><span class="si">\(</span><span class="nb">String</span><span class="si">(</span><span class="n">describing</span><span class="p">:</span> <span class="n">errContinue</span><span class="si">))</span><span class="s"> </span><span class="se">\n\n</span><span class="s">Route back and try again.&quot;</span>
                            <span class="kc">self</span><span class="p">.</span><span class="n">Log</span><span class="p">.</span><span class="n">error</span><span class="p">(</span><span class="s">&quot;MCConnectionExampleViewModel connect() commissionerDeclarationCallback, MCCastingPlayer.continueConnecting() failed due to: </span><span class="si">\(</span><span class="n">errContinue</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)</span>
                            <span class="c1">// Since continueConnecting() failed, Attempt to cancel the connection attempt with</span>
                            <span class="c1">// the CastingPlayer/Commissioner by calling stopConnecting().</span>
                            <span class="kd">let</span> <span class="nv">err</span> <span class="p">=</span> <span class="n">selectedCastingPlayer</span><span class="p">?.</span><span class="n">stopConnecting</span><span class="p">()</span>
                            <span class="k">if</span> <span class="n">err</span> <span class="p">==</span> <span class="kc">nil</span> <span class="p">{</span>
                                <span class="kc">self</span><span class="p">.</span><span class="n">Log</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="s">&quot;MCConnectionExampleViewModel connect() commissionerDeclarationCallback, MCCastingPlayer.continueConnecting() failed, then stopConnecting() succeeded&quot;</span><span class="p">)</span>
                            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                                <span class="kc">self</span><span class="p">.</span><span class="n">Log</span><span class="p">.</span><span class="n">error</span><span class="p">(</span><span class="s">&quot;MCConnectionExampleViewModel connect() commissionerDeclarationCallback, MCCastingPlayer.continueConnecting() failed, then stopConnecting() failed due to: </span><span class="si">\(</span><span class="n">err</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)</span>
                            <span class="p">}</span>
                        <span class="p">}</span>
                    <span class="p">},</span> <span class="n">cancelConnecting</span><span class="p">:</span> <span class="p">{</span>
                        <span class="kc">self</span><span class="p">.</span><span class="n">Log</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="s">&quot;MCConnectionExampleViewModel connect() commissionerDeclarationCallback, Connection attempt cancelled by the user, calling MCCastingPlayer.stopConnecting()&quot;</span><span class="p">)</span>
                        <span class="kd">let</span> <span class="nv">err</span> <span class="p">=</span> <span class="n">selectedCastingPlayer</span><span class="p">?.</span><span class="n">stopConnecting</span><span class="p">()</span>
                        <span class="p">...</span>
                    <span class="p">})</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kd">let</span> <span class="nv">identificationDeclarationOptions</span><span class="p">:</span> <span class="n">MCIdentificationDeclarationOptions</span>
    <span class="kd">let</span> <span class="nv">targetAppInfo</span><span class="p">:</span> <span class="n">MCTargetAppInfo</span>
    <span class="kd">let</span> <span class="nv">connectionCallbacks</span><span class="p">:</span> <span class="n">MCConnectionCallbacks</span>

    <span class="c1">// Specify the TargetApp that the client wants to interact with after commissioning. If this value is passed in,</span>
    <span class="c1">// VerifyOrEstablishConnection() will force UDC, in case the desired TargetApp is not found in the on-device</span>
    <span class="c1">// CastingStore</span>
    <span class="n">identificationDeclarationOptions</span> <span class="p">=</span> <span class="n">MCIdentificationDeclarationOptions</span><span class="p">()</span>
    <span class="n">targetAppInfo</span> <span class="p">=</span> <span class="n">MCTargetAppInfo</span><span class="p">(</span><span class="n">vendorId</span><span class="p">:</span> <span class="n">kDesiredEndpointVendorId</span><span class="p">)</span>
    <span class="n">connectionCallbacks</span> <span class="p">=</span> <span class="n">MCConnectionCallbacks</span><span class="p">(</span>
        <span class="n">callbacks</span><span class="p">:</span> <span class="n">connectionCompleteCallback</span><span class="p">,</span>
        <span class="n">commissionerDeclarationCallback</span><span class="p">:</span> <span class="kc">nil</span>
    <span class="p">)</span>
    <span class="n">identificationDeclarationOptions</span><span class="p">.</span><span class="n">addTargetAppInfo</span><span class="p">(</span><span class="n">targetAppInfo</span><span class="p">)</span>

    <span class="c1">// If using the alternate CastingPlayer / Commissioner-Generated Passcode UDC feature.</span>
    <span class="c1">// Set the IdentificationDeclaration CommissionerPasscode flag to instruct the CastingPlayer /</span>
    <span class="c1">// Commissioner to use the Commissioner-generated Passcode for commissioning. Set the</span>
    <span class="c1">// CommissionerDeclarationCallback in MCConnectionCallbacks.</span>
    <span class="n">identificationDeclarationOptions</span> <span class="p">=</span> <span class="n">MCIdentificationDeclarationOptions</span><span class="p">(</span><span class="n">commissionerPasscodeOnly</span><span class="p">:</span> <span class="kc">true</span><span class="p">)</span>
    <span class="n">targetAppInfo</span> <span class="p">=</span> <span class="n">MCTargetAppInfo</span><span class="p">(</span><span class="n">vendorId</span><span class="p">:</span> <span class="n">kDesiredEndpointVendorId</span><span class="p">)</span>
    <span class="n">connectionCallbacks</span> <span class="p">=</span> <span class="n">MCConnectionCallbacks</span><span class="p">(</span>
        <span class="n">callbacks</span><span class="p">:</span> <span class="n">connectionCompleteCallback</span><span class="p">,</span>
        <span class="n">commissionerDeclarationCallback</span><span class="p">:</span> <span class="n">commissionerDeclarationCallback</span>
    <span class="p">)</span>
    <span class="n">identificationDeclarationOptions</span><span class="p">.</span><span class="n">addTargetAppInfo</span><span class="p">(</span><span class="n">targetAppInfo</span><span class="p">)</span>

    <span class="kd">let</span> <span class="nv">err</span> <span class="p">=</span> <span class="n">selectedCastingPlayer</span><span class="p">?.</span><span class="n">verifyOrEstablishConnection</span><span class="p">(</span><span class="n">with</span><span class="p">:</span> <span class="n">connectionCallbacks</span><span class="p">,</span> <span class="n">identificationDeclarationOptions</span><span class="p">:</span> <span class="n">identificationDeclarationOptions</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
        <span class="kc">self</span><span class="p">.</span><span class="n">Log</span><span class="p">.</span><span class="n">error</span><span class="p">(</span><span class="s">&quot;MCConnectionExampleViewModel connect(), MCCastingPlayer.verifyOrEstablishConnection() failed due to: </span><span class="si">\(</span><span class="n">err</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="select-an-endpoint-on-the-casting-player">
<h3>Select an Endpoint on the Casting Player<a class="headerlink" href="#select-an-endpoint-on-the-casting-player" title="Permalink to this heading">#</a></h3>
<p><em>{Complete Endpoint selection examples: <a class="reference external" href="https://github.com/project-chip/connectedhomeip/blob/master/examples/tv-casting-app/linux/simple-app-helper.cpp">Linux</a> |
<a class="reference external" href="https://github.com/project-chip/connectedhomeip/blob/master/examples/tv-casting-app/android/App/app/src/main/java/com/matter/casting/EndpointSelectorExample.java">Android</a>
|
<a class="reference external" href="https://github.com/project-chip/connectedhomeip/blob/master/examples/tv-casting-app/darwin/TvCasting/TvCasting/MCContentLauncherLaunchURLExampleViewModel.swift">iOS</a>}</em></p>
<p>On a successful connection with a <code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code>, a Casting Client may select
one of the Endpoints to interact with based on its attributes (e.g. Vendor ID,
Product ID, list of supported Clusters, etc).</p>
<p>On Linux, for example, it may select an Endpoint with a particular VendorID.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// VendorId of the Endpoint on the CastingPlayer that the CastingApp desires to interact with after connection</span>
<span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">kDesiredEndpointVendorId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">65521</span><span class="p">;</span>

<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">matter</span><span class="o">::</span><span class="n">casting</span><span class="o">::</span><span class="n">memory</span><span class="o">::</span><span class="n">Strong</span><span class="o">&lt;</span><span class="n">matter</span><span class="o">::</span><span class="n">casting</span><span class="o">::</span><span class="n">core</span><span class="o">::</span><span class="n">Endpoint</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">endpoints</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">castingPlayer</span><span class="o">-&gt;</span><span class="n">GetEndpoints</span><span class="p">();</span>
<span class="c1">// Find the desired Endpoint and auto-trigger some Matter Casting demo interactions</span>
<span class="k">auto</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">find_if</span><span class="p">(</span><span class="n">endpoints</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span><span class="w"> </span><span class="n">endpoints</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span>
<span class="w">                        </span><span class="p">[](</span><span class="k">const</span><span class="w"> </span><span class="n">matter</span><span class="o">::</span><span class="n">casting</span><span class="o">::</span><span class="n">memory</span><span class="o">::</span><span class="n">Strong</span><span class="o">&lt;</span><span class="n">matter</span><span class="o">::</span><span class="n">casting</span><span class="o">::</span><span class="n">core</span><span class="o">::</span><span class="n">Endpoint</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">endpoint</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                            </span><span class="k">return</span><span class="w"> </span><span class="n">endpoint</span><span class="o">-&gt;</span><span class="n">GetVendorId</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">65521</span><span class="p">;</span>
<span class="w">                        </span><span class="p">});</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">it</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">endpoints</span><span class="p">.</span><span class="n">end</span><span class="p">())</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">// The desired endpoint is endpoints[index]</span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">distance</span><span class="p">(</span><span class="n">endpoints</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span><span class="w"> </span><span class="n">it</span><span class="p">);</span>
<span class="w">    </span><span class="p">...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>On Android, it can select an <code class="docutils literal notranslate"><span class="pre">Endpoint</span></code> as shown below.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">SAMPLE_ENDPOINT_VID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">65521</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Endpoint</span><span class="w"> </span><span class="nf">selectFirstEndpointByVID</span><span class="p">(</span><span class="n">CastingPlayer</span><span class="w"> </span><span class="n">selectedCastingPlayer</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="n">Endpoint</span><span class="w"> </span><span class="n">endpoint</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">selectedCastingPlayer</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Endpoint</span><span class="o">&gt;</span><span class="w"> </span><span class="n">endpoints</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">selectedCastingPlayer</span><span class="p">.</span><span class="na">getEndpoints</span><span class="p">();</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">endpoints</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Log</span><span class="p">.</span><span class="na">e</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;selectFirstEndpointByVID() No Endpoints found on CastingPlayer&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">endpoint</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="n">endpoints</span>
<span class="w">            </span><span class="p">.</span><span class="na">stream</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">e</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">SAMPLE_ENDPOINT_VID</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="na">getVendorId</span><span class="p">()))</span>
<span class="w">            </span><span class="p">.</span><span class="na">findFirst</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">orElse</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
<span class="k">return</span><span class="w"> </span><span class="n">endpoint</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>On iOS, it can select an <code class="docutils literal notranslate"><span class="pre">MCEndpoint</span></code> similarly and as shown below.</p>
<div class="highlight-swift notranslate"><div class="highlight"><pre><span></span><span class="c1">// VendorId of the MCEndpoint on the MCCastingPlayer that the MCCastingApp desires to interact with after connection</span>
<span class="kd">let</span> <span class="nv">sampleEndpointVid</span><span class="p">:</span> <span class="nb">Int</span> <span class="p">=</span> <span class="mi">65521</span>
<span class="p">...</span>

<span class="c1">// Select the MCEndpoint on the MCCastingPlayer to invoke the command on</span>
<span class="kd">static</span> <span class="kd">func</span> <span class="nf">selectEndpoint</span><span class="p">(</span><span class="n">from</span> <span class="n">castingPlayer</span><span class="p">:</span> <span class="n">MCCastingPlayer</span><span class="p">,</span> <span class="n">sampleEndpointVid</span><span class="p">:</span> <span class="nb">Int</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="n">MCEndpoint</span><span class="p">?</span> <span class="p">{</span>
    <span class="n">Log</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="s">&quot;MCEndpointSelector.selectEndpoint()&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="kd">let</span> <span class="nv">endpoint</span> <span class="p">=</span> <span class="n">castingPlayer</span><span class="p">.</span><span class="n">endpoints</span><span class="p">().</span><span class="bp">filter</span><span class="p">({</span> <span class="nv">$0</span><span class="p">.</span><span class="n">vendorId</span><span class="p">().</span><span class="n">intValue</span> <span class="p">==</span> <span class="n">sampleEndpointVid</span> <span class="p">}).</span><span class="bp">first</span> <span class="p">{</span>
        <span class="n">Log</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="s">&quot;MCEndpointSelector.selectEndpoint() Found endpoint matching the sampleEndpointVid: </span><span class="si">\(</span><span class="n">sampleEndpointVid</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">endpoint</span>
    <span class="p">}</span>
    <span class="p">...</span>

    <span class="n">Log</span><span class="p">.</span><span class="n">error</span><span class="p">(</span><span class="s">&quot;No endpoint matching the example VID or identifier 1 found&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">nil</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="interacting-with-a-casting-endpoint">
<h2>Interacting with a Casting Endpoint<a class="headerlink" href="#interacting-with-a-casting-endpoint" title="Permalink to this heading">#</a></h2>
<p>Once the Casting Client has selected an <code class="docutils literal notranslate"><span class="pre">Endpoint</span></code>, it is ready to
<a class="reference internal" href="#issuing-commands">issue commands</a> to it, <a class="reference internal" href="#read-operations">read</a> current
playback state, and <a class="reference internal" href="#subscriptions">subscribe</a> to playback events.</p>
<p>Refer to the following platform specific files, to find the list of clusters,
commands and attributes, with their request/response types available for use
with the Matter TV Casting library.</p>
<p>For Linux, refer to the following files:</p>
<ol class="arabic simple">
<li><p>For a list of supported clusters, commands and attributes:
<a class="reference external" href="https://github.com/project-chip/connectedhomeip/blob/master/examples/tv-casting-app/tv-casting-common/clusters/Clusters.h">tv-casting-common/clusters/Clusters.h</a></p></li>
<li><p>For the IDs and request / response types to use with these APIs:
<a class="reference external" href="https://github.com/project-chip/connectedhomeip/blob/master//zzz_generated/app-common/app-common/zap-generated/cluster-objects.h">/zzz_generated/app-common/app-common/zap-generated/cluster-objects.h</a></p></li>
</ol>
<p>For Android, refer to the following files:</p>
<ol class="arabic simple">
<li><p>For a list of supported clusters, commands and attributes:
<a class="reference external" href="https://github.com/project-chip/connectedhomeip/blob/master//src/controller/java/generated/java/chip/devicecontroller/ChipClusters.java">/src/controller/java/generated/java/chip/devicecontroller/ChipClusters.java</a></p></li>
</ol>
<p>On iOS, refer to the following files:</p>
<ol class="arabic simple">
<li><p>For a list of supported clusters, commands and attribute:
<a class="reference external" href="https://github.com/project-chip/connectedhomeip/blob/master/examples/tv-casting-app/darwin/MatterTvCastingBridge/MatterTvCastingBridge/zap-generated/MCClusterObjects.h">darwin/MatterTvCastingBridge/MatterTvCastingBridge/zap-generated/MCClusterObjects.h</a></p></li>
<li><p>For the IDs and request / response types to use with the commands:
<a class="reference external" href="https://github.com/project-chip/connectedhomeip/blob/master/examples/tv-casting-app/darwin/MatterTvCastingBridge/MatterTvCastingBridge/zap-generated/MCCommandObjects.h">darwin/MatterTvCastingBridge/MatterTvCastingBridge/zap-generated/MCCommandObjects.h</a>
and
<a class="reference external" href="https://github.com/project-chip/connectedhomeip/blob/master/examples/tv-casting-app/darwin/MatterTvCastingBridge/MatterTvCastingBridge/zap-generated/MCCommandPayloads.h">darwin/MatterTvCastingBridge/MatterTvCastingBridge/zap-generated/MCCommandPayloads.h</a></p></li>
<li><p>For attribute <a class="reference internal" href="#read-operations">read operations</a> and
<a class="reference internal" href="#subscriptions">subscriptions</a>:
<a class="reference external" href="https://github.com/project-chip/connectedhomeip/blob/master/examples/tv-casting-app/darwin/MatterTvCastingBridge/MatterTvCastingBridge/zap-generated/MCAttributeObjects.h">darwin/MatterTvCastingBridge/MatterTvCastingBridge/zap-generated/MCAttributeObjects.h</a></p></li>
</ol>
<section id="issuing-commands">
<h3>Issuing Commands<a class="headerlink" href="#issuing-commands" title="Permalink to this heading">#</a></h3>
<p><em>{Complete Command invocation examples: <a class="reference external" href="https://github.com/project-chip/connectedhomeip/blob/master/examples/tv-casting-app/linux/simple-app-helper.cpp">Linux</a> |
<a class="reference external" href="https://github.com/project-chip/connectedhomeip/blob/master/examples/tv-casting-app/android/App/app/src/main/java/com/matter/casting/ContentLauncherLaunchURLExampleFragment.java">Android</a>
|
<a class="reference external" href="https://github.com/project-chip/connectedhomeip/blob/master/examples/tv-casting-app/darwin/TvCasting/TvCasting/MCContentLauncherLaunchURLExampleViewModel.swift">iOS</a>}</em></p>
<p>The Casting Client can get a reference to an <code class="docutils literal notranslate"><span class="pre">Endpoint</span></code> on a <code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code>,
check if it supports the required cluster/command, and send commands to it. It
can then handle any command response / error the <code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code> sends back.</p>
<p>On Linux, for example, given an <code class="docutils literal notranslate"><span class="pre">Endpoint</span></code>, it can send a <code class="docutils literal notranslate"><span class="pre">LaunchURL</span></code> command
(part of the Content Launcher cluster) by calling the <code class="docutils literal notranslate"><span class="pre">Invoke</span></code> API on a
<code class="docutils literal notranslate"><span class="pre">Command</span></code> of type
<code class="docutils literal notranslate"><span class="pre">matter::casting::core::Command&lt;chip::app::Clusters::ContentLauncher::Commands::LaunchURL::Type&gt;</span></code></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">InvokeContentLauncherLaunchURL</span><span class="p">(</span><span class="n">matter</span><span class="o">::</span><span class="n">casting</span><span class="o">::</span><span class="n">memory</span><span class="o">::</span><span class="n">Strong</span><span class="o">&lt;</span><span class="n">matter</span><span class="o">::</span><span class="n">casting</span><span class="o">::</span><span class="n">core</span><span class="o">::</span><span class="n">Endpoint</span><span class="o">&gt;</span><span class="w"> </span><span class="n">endpoint</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">// get contentLauncherCluster from the endpoint</span>
<span class="w">    </span><span class="n">matter</span><span class="o">::</span><span class="n">casting</span><span class="o">::</span><span class="n">memory</span><span class="o">::</span><span class="n">Strong</span><span class="o">&lt;</span><span class="n">matter</span><span class="o">::</span><span class="n">casting</span><span class="o">::</span><span class="n">clusters</span><span class="o">::</span><span class="n">content_launcher</span><span class="o">::</span><span class="n">ContentLauncherCluster</span><span class="o">&gt;</span><span class="w"> </span><span class="n">contentLauncherCluster</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="n">endpoint</span><span class="o">-&gt;</span><span class="n">GetCluster</span><span class="o">&lt;</span><span class="n">matter</span><span class="o">::</span><span class="n">casting</span><span class="o">::</span><span class="n">clusters</span><span class="o">::</span><span class="n">content_launcher</span><span class="o">::</span><span class="n">ContentLauncherCluster</span><span class="o">&gt;</span><span class="p">();</span>
<span class="w">    </span><span class="n">VerifyOrReturn</span><span class="p">(</span><span class="n">contentLauncherCluster</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">nullptr</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// get the launchURLCommand from the contentLauncherCluster</span>
<span class="w">    </span><span class="n">matter</span><span class="o">::</span><span class="n">casting</span><span class="o">::</span><span class="n">core</span><span class="o">::</span><span class="n">Command</span><span class="o">&lt;</span><span class="n">chip</span><span class="o">::</span><span class="n">app</span><span class="o">::</span><span class="n">Clusters</span><span class="o">::</span><span class="n">ContentLauncher</span><span class="o">::</span><span class="n">Commands</span><span class="o">::</span><span class="n">LaunchURL</span><span class="o">::</span><span class="n">Type</span><span class="o">&gt;</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">launchURLCommand</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="n">static_cast</span><span class="o">&lt;</span><span class="n">matter</span><span class="o">::</span><span class="n">casting</span><span class="o">::</span><span class="n">core</span><span class="o">::</span><span class="n">Command</span><span class="o">&lt;</span><span class="n">chip</span><span class="o">::</span><span class="n">app</span><span class="o">::</span><span class="n">Clusters</span><span class="o">::</span><span class="n">ContentLauncher</span><span class="o">::</span><span class="n">Commands</span><span class="o">::</span><span class="n">LaunchURL</span><span class="o">::</span><span class="n">Type</span><span class="o">&gt;</span><span class="w"> </span><span class="o">*&gt;</span><span class="p">(</span>
<span class="w">            </span><span class="n">contentLauncherCluster</span><span class="o">-&gt;</span><span class="n">GetCommand</span><span class="p">(</span><span class="n">chip</span><span class="o">::</span><span class="n">app</span><span class="o">::</span><span class="n">Clusters</span><span class="o">::</span><span class="n">ContentLauncher</span><span class="o">::</span><span class="n">Commands</span><span class="o">::</span><span class="n">LaunchURL</span><span class="o">::</span><span class="n">Id</span><span class="p">));</span>
<span class="w">    </span><span class="n">VerifyOrReturn</span><span class="p">(</span><span class="n">launchURLCommand</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">nullptr</span><span class="p">,</span><span class="w"> </span><span class="n">ChipLogError</span><span class="p">(</span><span class="n">AppServer</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;LaunchURL command not found on ContentLauncherCluster&quot;</span><span class="p">));</span>

<span class="w">    </span><span class="c1">// create the LaunchURL request</span>
<span class="w">    </span><span class="n">chip</span><span class="o">::</span><span class="n">app</span><span class="o">::</span><span class="n">Clusters</span><span class="o">::</span><span class="n">ContentLauncher</span><span class="o">::</span><span class="n">Commands</span><span class="o">::</span><span class="n">LaunchURL</span><span class="o">::</span><span class="n">Type</span><span class="w"> </span><span class="n">request</span><span class="p">;</span>
<span class="w">    </span><span class="n">request</span><span class="p">.</span><span class="n">contentURL</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">chip</span><span class="o">::</span><span class="n">CharSpan</span><span class="o">::</span><span class="n">fromCharString</span><span class="p">(</span><span class="n">kContentURL</span><span class="p">);</span>
<span class="w">    </span><span class="n">request</span><span class="p">.</span><span class="n">displayString</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">chip</span><span class="o">::</span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">chip</span><span class="o">::</span><span class="n">CharSpan</span><span class="o">&gt;</span><span class="p">(</span><span class="n">chip</span><span class="o">::</span><span class="n">CharSpan</span><span class="o">::</span><span class="n">fromCharString</span><span class="p">(</span><span class="n">kContentDisplayStr</span><span class="p">));</span>
<span class="w">    </span><span class="n">request</span><span class="p">.</span><span class="n">brandingInformation</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="n">chip</span><span class="o">::</span><span class="n">MakeOptional</span><span class="p">(</span><span class="n">chip</span><span class="o">::</span><span class="n">app</span><span class="o">::</span><span class="n">Clusters</span><span class="o">::</span><span class="n">ContentLauncher</span><span class="o">::</span><span class="n">Structs</span><span class="o">::</span><span class="n">BrandingInformationStruct</span><span class="o">::</span><span class="n">Type</span><span class="p">());</span>

<span class="w">    </span><span class="c1">// call Invoke on launchURLCommand while passing in success/failure callbacks</span>
<span class="w">    </span><span class="n">launchURLCommand</span><span class="o">-&gt;</span><span class="n">Invoke</span><span class="p">(</span>
<span class="w">        </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">nullptr</span><span class="p">,</span>
<span class="w">        </span><span class="p">[](</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">chip</span><span class="o">::</span><span class="n">app</span><span class="o">::</span><span class="n">Clusters</span><span class="o">::</span><span class="n">ContentLauncher</span><span class="o">::</span><span class="n">Commands</span><span class="o">::</span><span class="n">LaunchURL</span><span class="o">::</span><span class="n">Type</span><span class="o">::</span><span class="n">ResponseType</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">response</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">ChipLogProgress</span><span class="p">(</span><span class="n">AppServer</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;LaunchURL Success with response.data: %.*s&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">static_cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">Value</span><span class="p">().</span><span class="n">size</span><span class="p">()),</span>
<span class="w">                            </span><span class="n">response</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">Value</span><span class="p">().</span><span class="n">data</span><span class="p">());</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">[](</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">CHIP_ERROR</span><span class="w"> </span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">ChipLogError</span><span class="p">(</span><span class="n">AppServer</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;LaunchURL Failure with err %&quot;</span><span class="w"> </span><span class="n">CHIP_ERROR_FORMAT</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="p">.</span><span class="n">Format</span><span class="p">());</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="n">chip</span><span class="o">::</span><span class="n">MakeOptional</span><span class="p">(</span><span class="n">kTimedInvokeCommandTimeoutMs</span><span class="p">));</span><span class="w">      </span><span class="c1">// time out after kTimedInvokeCommandTimeoutMs</span>
<span class="p">}</span>
</pre></div>
</div>
<p>On Android, given an <code class="docutils literal notranslate"><span class="pre">Endpoint</span></code>, it can send a <code class="docutils literal notranslate"><span class="pre">LaunchURL</span></code> command (part of the
Content Launcher cluster) by calling the <code class="docutils literal notranslate"><span class="pre">launchURL</span></code> API on a
<code class="docutils literal notranslate"><span class="pre">ChipClusters.ContentLauncherCluster</span></code> object.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// get ChipClusters.ContentLauncherCluster from the endpoint</span>
<span class="n">ChipClusters</span><span class="p">.</span><span class="na">ContentLauncherCluster</span><span class="w"> </span><span class="n">cluster</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="n">endpoint</span><span class="p">.</span><span class="na">getCluster</span><span class="p">(</span><span class="n">ChipClusters</span><span class="p">.</span><span class="na">ContentLauncherCluster</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cluster</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Log</span><span class="p">.</span><span class="na">e</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Could not get ContentLauncherCluster for endpoint with ID: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">endpoint</span><span class="p">.</span><span class="na">getId</span><span class="p">());</span>
<span class="w">    </span><span class="k">return</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// call launchURL on the cluster object while passing in a</span>
<span class="c1">// ChipClusters.ContentLauncherCluster.LauncherResponseCallback and request parameters</span>
<span class="n">cluster</span><span class="p">.</span><span class="na">launchURL</span><span class="p">(</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">ChipClusters</span><span class="p">.</span><span class="na">ContentLauncherCluster</span><span class="p">.</span><span class="na">LauncherResponseCallback</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onSuccess</span><span class="p">(</span><span class="n">Integer</span><span class="w"> </span><span class="n">status</span><span class="p">,</span><span class="w"> </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Log</span><span class="p">.</span><span class="na">d</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;LaunchURL success. Status: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;, Data: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">data</span><span class="p">);</span>
<span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="n">Handler</span><span class="p">(</span><span class="n">Looper</span><span class="p">.</span><span class="na">getMainLooper</span><span class="p">())</span>
<span class="w">            </span><span class="p">.</span><span class="na">post</span><span class="p">(</span>
<span class="w">                </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">TextView</span><span class="w"> </span><span class="n">launcherResult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getView</span><span class="p">().</span><span class="na">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">launcherResult</span><span class="p">);</span>
<span class="w">                </span><span class="n">launcherResult</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span>
<span class="w">                    </span><span class="s">&quot;LaunchURL result\nStatus: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;, Data: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">data</span><span class="p">);</span>
<span class="w">                </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onError</span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Log</span><span class="p">.</span><span class="na">e</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;LaunchURL failure &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">error</span><span class="p">);</span>
<span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="n">Handler</span><span class="p">(</span><span class="n">Looper</span><span class="p">.</span><span class="na">getMainLooper</span><span class="p">())</span>
<span class="w">            </span><span class="p">.</span><span class="na">post</span><span class="p">(</span>
<span class="w">                </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">TextView</span><span class="w"> </span><span class="n">launcherResult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getView</span><span class="p">().</span><span class="na">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">launcherResult</span><span class="p">);</span>
<span class="w">                </span><span class="n">launcherResult</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="s">&quot;LaunchURL result\nError: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">error</span><span class="p">);</span>
<span class="w">                </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="n">contentUrl</span><span class="p">,</span>
<span class="w">    </span><span class="n">Optional</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">contentDisplayString</span><span class="p">),</span>
<span class="w">    </span><span class="n">Optional</span><span class="p">.</span><span class="na">empty</span><span class="p">());</span>
</pre></div>
</div>
<p>On iOS, given an <code class="docutils literal notranslate"><span class="pre">MCEndpoint</span></code> endpoint, it can send a <code class="docutils literal notranslate"><span class="pre">LaunchURL</span></code> command (part
of the Content Launcher cluster) by calling the <code class="docutils literal notranslate"><span class="pre">invoke</span></code> API on a
<code class="docutils literal notranslate"><span class="pre">MCContentLauncherClusterLaunchURLCommand</span></code></p>
<div class="highlight-swift notranslate"><div class="highlight"><pre><span></span><span class="c1">// validate that the selected endpoint supports the ContentLauncher cluster</span>
<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">endpoint</span><span class="p">.</span><span class="n">hasCluster</span><span class="p">(</span><span class="n">MCEndpointClusterTypeContentLauncher</span><span class="p">))</span>
<span class="p">{</span>
    <span class="kc">self</span><span class="p">.</span><span class="n">Log</span><span class="p">.</span><span class="n">error</span><span class="p">(</span><span class="s">&quot;No ContentLauncher cluster supporting endpoint found&quot;</span><span class="p">)</span>
    <span class="n">DispatchQueue</span><span class="p">.</span><span class="n">main</span><span class="p">.</span><span class="k">async</span>
    <span class="p">{</span>
        <span class="kc">self</span><span class="p">.</span><span class="n">status</span> <span class="p">=</span> <span class="s">&quot;No ContentLauncher cluster supporting endpoint found&quot;</span>
    <span class="p">}</span>
    <span class="k">return</span>
<span class="p">}</span>

<span class="c1">// get ContentLauncher cluster from the endpoint</span>
<span class="kd">let</span> <span class="nv">contentLaunchercluster</span><span class="p">:</span> <span class="n">MCContentLauncherCluster</span> <span class="p">=</span> <span class="n">endpoint</span><span class="p">.</span><span class="n">cluster</span><span class="p">(</span><span class="k">for</span><span class="p">:</span> <span class="n">MCEndpointClusterTypeContentLauncher</span><span class="p">)</span> <span class="k">as</span><span class="p">!</span> <span class="n">MCContentLauncherCluster</span>

<span class="c1">// get the launchURLCommand from the contentLauncherCluster</span>
<span class="kd">let</span> <span class="nv">launchURLCommand</span><span class="p">:</span> <span class="n">MCContentLauncherClusterLaunchURLCommand</span><span class="p">?</span> <span class="p">=</span> <span class="n">contentLaunchercluster</span><span class="p">.</span><span class="n">launchURLCommand</span><span class="p">()</span>
<span class="k">if</span><span class="p">(</span><span class="n">launchURLCommand</span> <span class="p">==</span> <span class="kc">nil</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kc">self</span><span class="p">.</span><span class="n">Log</span><span class="p">.</span><span class="n">error</span><span class="p">(</span><span class="s">&quot;LaunchURL not supported on cluster&quot;</span><span class="p">)</span>
    <span class="n">DispatchQueue</span><span class="p">.</span><span class="n">main</span><span class="p">.</span><span class="k">async</span>
    <span class="p">{</span>
        <span class="kc">self</span><span class="p">.</span><span class="n">status</span> <span class="p">=</span> <span class="s">&quot;LaunchURL not supported on cluster&quot;</span>
    <span class="p">}</span>
    <span class="k">return</span>
<span class="p">}</span>

<span class="c1">// create the LaunchURL request</span>
<span class="kd">let</span> <span class="nv">request</span><span class="p">:</span> <span class="n">MCContentLauncherClusterLaunchURLParams</span> <span class="p">=</span> <span class="n">MCContentLauncherClusterLaunchURLParams</span><span class="p">()</span>
<span class="n">request</span><span class="p">.</span><span class="n">contentURL</span> <span class="p">=</span> <span class="n">contentUrl</span>
<span class="n">request</span><span class="p">.</span><span class="n">displayString</span> <span class="p">=</span> <span class="n">displayString</span>

<span class="c1">// call invoke on launchURLCommand while passing in a completion block</span>
<span class="n">launchURLCommand</span><span class="p">!.</span><span class="n">invoke</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">context</span><span class="p">:</span> <span class="kc">nil</span><span class="p">,</span> <span class="n">completion</span><span class="p">:</span> <span class="p">{</span> <span class="n">context</span><span class="p">,</span> <span class="n">err</span><span class="p">,</span> <span class="n">response</span> <span class="k">in</span>
    <span class="n">DispatchQueue</span><span class="p">.</span><span class="n">main</span><span class="p">.</span><span class="k">async</span>
    <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="n">err</span> <span class="p">==</span> <span class="kc">nil</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kc">self</span><span class="p">.</span><span class="n">Log</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="s">&quot;LaunchURLCommand invoke completion success with </span><span class="si">\(</span><span class="nb">String</span><span class="si">(</span><span class="n">describing</span><span class="p">:</span> <span class="n">response</span><span class="si">))</span><span class="s">&quot;</span><span class="p">)</span>
            <span class="kc">self</span><span class="p">.</span><span class="n">status</span> <span class="p">=</span> <span class="s">&quot;Success. Response data: </span><span class="si">\(</span><span class="nb">String</span><span class="si">(</span><span class="n">describing</span><span class="p">:</span> <span class="n">response</span><span class="p">?.</span><span class="n">data</span><span class="si">))</span><span class="s">&quot;</span>
        <span class="p">}</span>
        <span class="k">else</span>
        <span class="p">{</span>
            <span class="kc">self</span><span class="p">.</span><span class="n">Log</span><span class="p">.</span><span class="n">error</span><span class="p">(</span><span class="s">&quot;LaunchURLCommand invoke completion failure with </span><span class="si">\(</span><span class="nb">String</span><span class="si">(</span><span class="n">describing</span><span class="p">:</span> <span class="n">err</span><span class="si">))</span><span class="s">&quot;</span><span class="p">)</span>
            <span class="kc">self</span><span class="p">.</span><span class="n">status</span> <span class="p">=</span> <span class="s">&quot;Failure: </span><span class="si">\(</span><span class="nb">String</span><span class="si">(</span><span class="n">describing</span><span class="p">:</span> <span class="n">err</span><span class="si">))</span><span class="s">&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">},</span>
<span class="n">timedInvokeTimeoutMs</span><span class="p">:</span> <span class="mi">5000</span><span class="p">)</span> <span class="c1">// time out after 5000ms</span>
</pre></div>
</div>
</section>
<section id="read-operations">
<h3>Read Operations<a class="headerlink" href="#read-operations" title="Permalink to this heading">#</a></h3>
<p><em>{Complete Attribute Read examples: <a class="reference external" href="https://github.com/project-chip/connectedhomeip/blob/master/examples/tv-casting-app/linux/simple-app-helper.cpp">Linux</a> |
<a class="reference external" href="https://github.com/project-chip/connectedhomeip/blob/master/examples/tv-casting-app/android/App/app/src/main/java/com/matter/casting/ApplicationBasicReadVendorIDExampleFragment.java">Android</a>
|
<a class="reference external" href="https://github.com/project-chip/connectedhomeip/blob/master/examples/tv-casting-app/darwin/TvCasting/TvCasting/MCApplicationBasicReadVendorIDExampleViewModel.swift">iOS</a>}</em></p>
<p>The <code class="docutils literal notranslate"><span class="pre">CastingClient</span></code> may read an Attribute from the <code class="docutils literal notranslate"><span class="pre">Endpoint</span></code> on the
<code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code>. It should ensure that the desired cluster / attribute are
available for reading on the endpoint before trying to read it.</p>
<p>On Linux, for example, given an <code class="docutils literal notranslate"><span class="pre">endpoint</span></code>, it can read the <code class="docutils literal notranslate"><span class="pre">VendorID</span></code> (part of
the Application Basic cluster) by calling the <code class="docutils literal notranslate"><span class="pre">Read</span></code> API on an <code class="docutils literal notranslate"><span class="pre">Attribute</span></code> of
type
<code class="docutils literal notranslate"><span class="pre">matter::casting::core::Attribute&lt;chip::app::Clusters::ApplicationBasic::Attributes::VendorID::TypeInfo&gt;</span></code></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">ReadApplicationBasicVendorID</span><span class="p">(</span><span class="n">matter</span><span class="o">::</span><span class="n">casting</span><span class="o">::</span><span class="n">memory</span><span class="o">::</span><span class="n">Strong</span><span class="o">&lt;</span><span class="n">matter</span><span class="o">::</span><span class="n">casting</span><span class="o">::</span><span class="n">core</span><span class="o">::</span><span class="n">Endpoint</span><span class="o">&gt;</span><span class="w"> </span><span class="n">endpoint</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">// get applicationBasicCluster from the endpoint</span>
<span class="w">    </span><span class="n">matter</span><span class="o">::</span><span class="n">casting</span><span class="o">::</span><span class="n">memory</span><span class="o">::</span><span class="n">Strong</span><span class="o">&lt;</span><span class="n">matter</span><span class="o">::</span><span class="n">casting</span><span class="o">::</span><span class="n">clusters</span><span class="o">::</span><span class="n">application_basic</span><span class="o">::</span><span class="n">ApplicationBasicCluster</span><span class="o">&gt;</span><span class="w"> </span><span class="n">applicationBasicCluster</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="n">endpoint</span><span class="o">-&gt;</span><span class="n">GetCluster</span><span class="o">&lt;</span><span class="n">matter</span><span class="o">::</span><span class="n">casting</span><span class="o">::</span><span class="n">clusters</span><span class="o">::</span><span class="n">application_basic</span><span class="o">::</span><span class="n">ApplicationBasicCluster</span><span class="o">&gt;</span><span class="p">();</span>
<span class="w">    </span><span class="n">VerifyOrReturn</span><span class="p">(</span><span class="n">applicationBasicCluster</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">nullptr</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// get the vendorIDAttribute from the applicationBasicCluster</span>
<span class="w">    </span><span class="n">matter</span><span class="o">::</span><span class="n">casting</span><span class="o">::</span><span class="n">core</span><span class="o">::</span><span class="n">Attribute</span><span class="o">&lt;</span><span class="n">chip</span><span class="o">::</span><span class="n">app</span><span class="o">::</span><span class="n">Clusters</span><span class="o">::</span><span class="n">ApplicationBasic</span><span class="o">::</span><span class="n">Attributes</span><span class="o">::</span><span class="n">VendorID</span><span class="o">::</span><span class="n">TypeInfo</span><span class="o">&gt;</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">vendorIDAttribute</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="n">static_cast</span><span class="o">&lt;</span><span class="n">matter</span><span class="o">::</span><span class="n">casting</span><span class="o">::</span><span class="n">core</span><span class="o">::</span><span class="n">Attribute</span><span class="o">&lt;</span><span class="n">chip</span><span class="o">::</span><span class="n">app</span><span class="o">::</span><span class="n">Clusters</span><span class="o">::</span><span class="n">ApplicationBasic</span><span class="o">::</span><span class="n">Attributes</span><span class="o">::</span><span class="n">VendorID</span><span class="o">::</span><span class="n">TypeInfo</span><span class="o">&gt;</span><span class="w"> </span><span class="o">*&gt;</span><span class="p">(</span>
<span class="w">            </span><span class="n">applicationBasicCluster</span><span class="o">-&gt;</span><span class="n">GetAttribute</span><span class="p">(</span><span class="n">chip</span><span class="o">::</span><span class="n">app</span><span class="o">::</span><span class="n">Clusters</span><span class="o">::</span><span class="n">ApplicationBasic</span><span class="o">::</span><span class="n">Attributes</span><span class="o">::</span><span class="n">VendorID</span><span class="o">::</span><span class="n">Id</span><span class="p">));</span>
<span class="w">    </span><span class="n">VerifyOrReturn</span><span class="p">(</span><span class="n">vendorIDAttribute</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">nullptr</span><span class="p">,</span>
<span class="w">                   </span><span class="n">ChipLogError</span><span class="p">(</span><span class="n">AppServer</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;VendorID attribute not found on ApplicationBasicCluster&quot;</span><span class="p">));</span>

<span class="w">    </span><span class="c1">// call Read on vendorIDAttribute while passing in success/failure callbacks</span>
<span class="w">    </span><span class="n">vendorIDAttribute</span><span class="o">-&gt;</span><span class="n">Read</span><span class="p">(</span>
<span class="w">        </span><span class="n">nullptr</span><span class="p">,</span>
<span class="w">        </span><span class="p">[](</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">context</span><span class="p">,</span>
<span class="w">           </span><span class="n">chip</span><span class="o">::</span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">chip</span><span class="o">::</span><span class="n">app</span><span class="o">::</span><span class="n">Clusters</span><span class="o">::</span><span class="n">ApplicationBasic</span><span class="o">::</span><span class="n">Attributes</span><span class="o">::</span><span class="n">VendorID</span><span class="o">::</span><span class="n">TypeInfo</span><span class="o">::</span><span class="n">DecodableArgType</span><span class="o">&gt;</span><span class="w"> </span><span class="n">before</span><span class="p">,</span>
<span class="w">           </span><span class="n">chip</span><span class="o">::</span><span class="n">app</span><span class="o">::</span><span class="n">Clusters</span><span class="o">::</span><span class="n">ApplicationBasic</span><span class="o">::</span><span class="n">Attributes</span><span class="o">::</span><span class="n">VendorID</span><span class="o">::</span><span class="n">TypeInfo</span><span class="o">::</span><span class="n">DecodableArgType</span><span class="w"> </span><span class="n">after</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">before</span><span class="p">.</span><span class="n">HasValue</span><span class="p">())</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="n">ChipLogProgress</span><span class="p">(</span><span class="n">AppServer</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Read VendorID value: %d [Before reading value: %d]&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">after</span><span class="p">,</span><span class="w"> </span><span class="n">before</span><span class="p">.</span><span class="n">Value</span><span class="p">());</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="k">else</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="n">ChipLogProgress</span><span class="p">(</span><span class="n">AppServer</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Read VendorID value: %d&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">after</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">[](</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">CHIP_ERROR</span><span class="w"> </span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">ChipLogError</span><span class="p">(</span><span class="n">AppServer</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;VendorID Read failure with err %&quot;</span><span class="w"> </span><span class="n">CHIP_ERROR_FORMAT</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="p">.</span><span class="n">Format</span><span class="p">());</span>
<span class="w">        </span><span class="p">});</span>
<span class="p">}</span>
</pre></div>
</div>
<p>On Android, given an <code class="docutils literal notranslate"><span class="pre">Endpoint</span></code>, the <code class="docutils literal notranslate"><span class="pre">VendorID</span></code> can be read, by calling
<code class="docutils literal notranslate"><span class="pre">readVendorIDAttribute</span></code> on the <code class="docutils literal notranslate"><span class="pre">ChipClusters.ApplicationBasicCluster</span></code> object.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// get ChipClusters.ApplicationBasic from the endpoint</span>
<span class="n">ChipClusters</span><span class="p">.</span><span class="na">ApplicationBasicCluster</span><span class="w"> </span><span class="n">cluster</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">endpoint</span><span class="p">.</span><span class="na">getCluster</span><span class="p">(</span><span class="n">ChipClusters</span><span class="p">.</span><span class="na">ApplicationBasicCluster</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cluster</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Log</span><span class="p">.</span><span class="na">e</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Could not get ApplicationBasicCluster for endpoint with ID: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">endpoint</span><span class="p">.</span><span class="na">getId</span><span class="p">());</span>
<span class="w">    </span><span class="k">return</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// call readVendorIDAttribute on the cluster object while passing in a</span>
<span class="c1">// ChipClusters.IntegerAttributeCallback</span>
<span class="n">cluster</span><span class="p">.</span><span class="na">readVendorIDAttribute</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">ChipClusters</span><span class="p">.</span><span class="na">IntegerAttributeCallback</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onSuccess</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Log</span><span class="p">.</span><span class="na">d</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;ReadVendorID success. Value: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">value</span><span class="p">);</span>
<span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="n">Handler</span><span class="p">(</span><span class="n">Looper</span><span class="p">.</span><span class="na">getMainLooper</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">post</span><span class="p">(</span>
<span class="w">                        </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                            </span><span class="n">TextView</span><span class="w"> </span><span class="n">vendorIdResult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getView</span><span class="p">().</span><span class="na">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">vendorIdResult</span><span class="p">);</span>
<span class="w">                            </span><span class="n">vendorIdResult</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span>
<span class="w">                                    </span><span class="s">&quot;Read VendorID result\nValue: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">                        </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onError</span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Log</span><span class="p">.</span><span class="na">e</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;ReadVendorID failure &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">error</span><span class="p">);</span>
<span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="n">Handler</span><span class="p">(</span><span class="n">Looper</span><span class="p">.</span><span class="na">getMainLooper</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">post</span><span class="p">(</span>
<span class="w">                        </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                            </span><span class="n">TextView</span><span class="w"> </span><span class="n">vendorIdResult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getView</span><span class="p">().</span><span class="na">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">vendorIdResult</span><span class="p">);</span>
<span class="w">                            </span><span class="n">vendorIdResult</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="s">&quot;Read VendorID result\nError: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">error</span><span class="p">);</span>
<span class="w">                        </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">});</span>
</pre></div>
</div>
<p>On iOS, given a <code class="docutils literal notranslate"><span class="pre">MCEndpoint</span></code>, the <code class="docutils literal notranslate"><span class="pre">VendorID</span></code> can be read similarly, by calling
the <code class="docutils literal notranslate"><span class="pre">read</span></code> API on the <code class="docutils literal notranslate"><span class="pre">MCApplicationBasicClusterVendorIDAttribute</span></code></p>
<div class="highlight-swift notranslate"><div class="highlight"><pre><span></span><span class="c1">// validate that the selected endpoint supports the ApplicationBasic cluster</span>
<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">endpoint</span><span class="p">.</span><span class="n">hasCluster</span><span class="p">(</span><span class="n">MCEndpointClusterTypeApplicationBasic</span><span class="p">))</span>
<span class="p">{</span>
    <span class="kc">self</span><span class="p">.</span><span class="n">Log</span><span class="p">.</span><span class="n">error</span><span class="p">(</span><span class="s">&quot;No ApplicationBasic cluster supporting endpoint found&quot;</span><span class="p">)</span>
    <span class="n">DispatchQueue</span><span class="p">.</span><span class="n">main</span><span class="p">.</span><span class="k">async</span>
    <span class="p">{</span>
        <span class="kc">self</span><span class="p">.</span><span class="n">status</span> <span class="p">=</span> <span class="s">&quot;No ApplicationBasic cluster supporting endpoint found&quot;</span>
    <span class="p">}</span>
    <span class="k">return</span>
<span class="p">}</span>

<span class="c1">// get ApplicationBasic cluster from the endpoint</span>
<span class="kd">let</span> <span class="nv">applicationBasiccluster</span><span class="p">:</span> <span class="n">MCApplicationBasicCluster</span> <span class="p">=</span> <span class="n">endpoint</span><span class="p">.</span><span class="n">cluster</span><span class="p">(</span><span class="k">for</span><span class="p">:</span> <span class="n">MCEndpointClusterTypeApplicationBasic</span><span class="p">)</span> <span class="k">as</span><span class="p">!</span> <span class="n">MCApplicationBasicCluster</span>

<span class="c1">// get the vendorIDAttribute from the applicationBasiccluster</span>
<span class="kd">let</span> <span class="nv">vendorIDAttribute</span><span class="p">:</span> <span class="n">MCApplicationBasicClusterVendorIDAttribute</span><span class="p">?</span> <span class="p">=</span> <span class="n">applicationBasiccluster</span><span class="p">.</span><span class="n">vendorIDAttribute</span><span class="p">()</span>
<span class="k">if</span><span class="p">(</span><span class="n">vendorIDAttribute</span> <span class="p">==</span> <span class="kc">nil</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kc">self</span><span class="p">.</span><span class="n">Log</span><span class="p">.</span><span class="n">error</span><span class="p">(</span><span class="s">&quot;VendorID attribute not supported on cluster&quot;</span><span class="p">)</span>
    <span class="n">DispatchQueue</span><span class="p">.</span><span class="n">main</span><span class="p">.</span><span class="k">async</span>
    <span class="p">{</span>
        <span class="kc">self</span><span class="p">.</span><span class="n">status</span> <span class="p">=</span> <span class="s">&quot;VendorID attribute not supported on cluster&quot;</span>
    <span class="p">}</span>
    <span class="k">return</span>
<span class="p">}</span>

<span class="c1">// call read on vendorIDAttribute and pass in a completion block</span>
<span class="n">vendorIDAttribute</span><span class="p">!.</span><span class="n">read</span><span class="p">(</span><span class="kc">nil</span><span class="p">)</span> <span class="p">{</span> <span class="n">context</span><span class="p">,</span> <span class="n">before</span><span class="p">,</span> <span class="n">after</span><span class="p">,</span> <span class="n">err</span> <span class="k">in</span>
    <span class="n">DispatchQueue</span><span class="p">.</span><span class="n">main</span><span class="p">.</span><span class="k">async</span>
    <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="n">err</span> <span class="o">!=</span> <span class="kc">nil</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kc">self</span><span class="p">.</span><span class="n">Log</span><span class="p">.</span><span class="n">error</span><span class="p">(</span><span class="s">&quot;Error when reading VendorID value </span><span class="si">\(</span><span class="nb">String</span><span class="si">(</span><span class="n">describing</span><span class="p">:</span> <span class="n">err</span><span class="si">))</span><span class="s">&quot;</span><span class="p">)</span>
            <span class="kc">self</span><span class="p">.</span><span class="n">status</span> <span class="p">=</span> <span class="s">&quot;Error when reading VendorID value </span><span class="si">\(</span><span class="nb">String</span><span class="si">(</span><span class="n">describing</span><span class="p">:</span> <span class="n">err</span><span class="si">))</span><span class="s">&quot;</span>
            <span class="k">return</span>
        <span class="p">}</span>

        <span class="k">if</span><span class="p">(</span><span class="n">before</span> <span class="o">!=</span> <span class="kc">nil</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kc">self</span><span class="p">.</span><span class="n">Log</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="s">&quot;Read VendorID value: </span><span class="si">\(</span><span class="nb">String</span><span class="si">(</span><span class="n">describing</span><span class="p">:</span> <span class="n">after</span><span class="si">))</span><span class="s"> Before: </span><span class="si">\(</span><span class="nb">String</span><span class="si">(</span><span class="n">describing</span><span class="p">:</span> <span class="n">before</span><span class="si">))</span><span class="s">&quot;</span><span class="p">)</span>
            <span class="kc">self</span><span class="p">.</span><span class="n">status</span> <span class="p">=</span> <span class="s">&quot;Read VendorID value: </span><span class="si">\(</span><span class="nb">String</span><span class="si">(</span><span class="n">describing</span><span class="p">:</span> <span class="n">after</span><span class="si">))</span><span class="s"> Before: </span><span class="si">\(</span><span class="nb">String</span><span class="si">(</span><span class="n">describing</span><span class="p">:</span> <span class="n">before</span><span class="si">))</span><span class="s">&quot;</span>
        <span class="p">}</span>
        <span class="k">else</span>
        <span class="p">{</span>
            <span class="kc">self</span><span class="p">.</span><span class="n">Log</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="s">&quot;Read VendorID value: </span><span class="si">\(</span><span class="nb">String</span><span class="si">(</span><span class="n">describing</span><span class="p">:</span> <span class="n">after</span><span class="si">))</span><span class="s">&quot;</span><span class="p">)</span>
            <span class="kc">self</span><span class="p">.</span><span class="n">status</span> <span class="p">=</span> <span class="s">&quot;Read VendorID value: </span><span class="si">\(</span><span class="nb">String</span><span class="si">(</span><span class="n">describing</span><span class="p">:</span> <span class="n">after</span><span class="si">))</span><span class="s">&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="subscriptions">
<h3>Subscriptions<a class="headerlink" href="#subscriptions" title="Permalink to this heading">#</a></h3>
<p><em>{Complete Attribute subscription examples: <a class="reference external" href="https://github.com/project-chip/connectedhomeip/blob/master/examples/tv-casting-app/linux/simple-app-helper.cpp">Linux</a>
|
<a class="reference external" href="https://github.com/project-chip/connectedhomeip/blob/master/examples/tv-casting-app/android/App/app/src/main/java/com/matter/casting/MediaPlaybackSubscribeToCurrentStateExampleFragment.java">Android</a>
|
|<a class="reference external" href="https://github.com/project-chip/connectedhomeip/blob/master/examples/tv-casting-app/darwin/TvCasting/TvCasting/MCMediaPlaybackSubscribeToCurrentStateExampleViewModel.swift">iOS</a>}</em></p>
<p>A Casting Client may subscribe to an attribute on an <code class="docutils literal notranslate"><span class="pre">Endpoint</span></code> of the
<code class="docutils literal notranslate"><span class="pre">CastingPlayer</span></code> to get data reports when the attributes change.</p>
<p>On Linux, for example, given an <code class="docutils literal notranslate"><span class="pre">endpoint</span></code>, it can subscribe to the
<code class="docutils literal notranslate"><span class="pre">CurrentState</span></code> (part of the Media Playback Basic cluster) by calling the
<code class="docutils literal notranslate"><span class="pre">Subscribe</span></code> API on an <code class="docutils literal notranslate"><span class="pre">Attribute</span></code> of type
<code class="docutils literal notranslate"><span class="pre">matter::casting::core::Attribute&lt;chip::app::Clusters::MediaPlayback::Attributes::CurrentState::TypeInfo&gt;</span></code></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">SubscribeToMediaPlaybackCurrentState</span><span class="p">(</span><span class="n">matter</span><span class="o">::</span><span class="n">casting</span><span class="o">::</span><span class="n">memory</span><span class="o">::</span><span class="n">Strong</span><span class="o">&lt;</span><span class="n">matter</span><span class="o">::</span><span class="n">casting</span><span class="o">::</span><span class="n">core</span><span class="o">::</span><span class="n">Endpoint</span><span class="o">&gt;</span><span class="w"> </span><span class="n">endpoint</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">// get mediaPlaybackCluster from the endpoint</span>
<span class="w">    </span><span class="n">matter</span><span class="o">::</span><span class="n">casting</span><span class="o">::</span><span class="n">memory</span><span class="o">::</span><span class="n">Strong</span><span class="o">&lt;</span><span class="n">matter</span><span class="o">::</span><span class="n">casting</span><span class="o">::</span><span class="n">clusters</span><span class="o">::</span><span class="n">media_playback</span><span class="o">::</span><span class="n">MediaPlaybackCluster</span><span class="o">&gt;</span><span class="w"> </span><span class="n">mediaPlaybackCluster</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="n">endpoint</span><span class="o">-&gt;</span><span class="n">GetCluster</span><span class="o">&lt;</span><span class="n">matter</span><span class="o">::</span><span class="n">casting</span><span class="o">::</span><span class="n">clusters</span><span class="o">::</span><span class="n">media_playback</span><span class="o">::</span><span class="n">MediaPlaybackCluster</span><span class="o">&gt;</span><span class="p">();</span>
<span class="w">    </span><span class="n">VerifyOrReturn</span><span class="p">(</span><span class="n">mediaPlaybackCluster</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">nullptr</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// get the currentStateAttribute from the mediaPlaybackCluster</span>
<span class="w">    </span><span class="n">matter</span><span class="o">::</span><span class="n">casting</span><span class="o">::</span><span class="n">core</span><span class="o">::</span><span class="n">Attribute</span><span class="o">&lt;</span><span class="n">chip</span><span class="o">::</span><span class="n">app</span><span class="o">::</span><span class="n">Clusters</span><span class="o">::</span><span class="n">MediaPlayback</span><span class="o">::</span><span class="n">Attributes</span><span class="o">::</span><span class="n">CurrentState</span><span class="o">::</span><span class="n">TypeInfo</span><span class="o">&gt;</span><span class="w"> </span><span class="o">*</span>
<span class="w">        </span><span class="n">currentStateAttribute</span><span class="w"> </span><span class="o">=</span>
<span class="w">            </span><span class="n">static_cast</span><span class="o">&lt;</span><span class="n">matter</span><span class="o">::</span><span class="n">casting</span><span class="o">::</span><span class="n">core</span><span class="o">::</span><span class="n">Attribute</span><span class="o">&lt;</span><span class="n">chip</span><span class="o">::</span><span class="n">app</span><span class="o">::</span><span class="n">Clusters</span><span class="o">::</span><span class="n">MediaPlayback</span><span class="o">::</span><span class="n">Attributes</span><span class="o">::</span><span class="n">CurrentState</span><span class="o">::</span><span class="n">TypeInfo</span><span class="o">&gt;</span><span class="w"> </span><span class="o">*&gt;</span><span class="p">(</span>
<span class="w">                </span><span class="n">mediaPlaybackCluster</span><span class="o">-&gt;</span><span class="n">GetAttribute</span><span class="p">(</span><span class="n">chip</span><span class="o">::</span><span class="n">app</span><span class="o">::</span><span class="n">Clusters</span><span class="o">::</span><span class="n">MediaPlayback</span><span class="o">::</span><span class="n">Attributes</span><span class="o">::</span><span class="n">CurrentState</span><span class="o">::</span><span class="n">Id</span><span class="p">));</span>
<span class="w">    </span><span class="n">VerifyOrReturn</span><span class="p">(</span><span class="n">currentStateAttribute</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">nullptr</span><span class="p">,</span>
<span class="w">                   </span><span class="n">ChipLogError</span><span class="p">(</span><span class="n">AppServer</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;CurrentState attribute not found on MediaPlaybackCluster&quot;</span><span class="p">));</span>

<span class="w">    </span><span class="c1">// call Subscribe on currentStateAttribute while passing in success/failure callbacks</span>
<span class="w">    </span><span class="n">currentStateAttribute</span><span class="o">-&gt;</span><span class="n">Subscribe</span><span class="p">(</span>
<span class="w">        </span><span class="n">nullptr</span><span class="p">,</span>
<span class="w">        </span><span class="p">[](</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">context</span><span class="p">,</span>
<span class="w">           </span><span class="n">chip</span><span class="o">::</span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">chip</span><span class="o">::</span><span class="n">app</span><span class="o">::</span><span class="n">Clusters</span><span class="o">::</span><span class="n">MediaPlayback</span><span class="o">::</span><span class="n">Attributes</span><span class="o">::</span><span class="n">CurrentState</span><span class="o">::</span><span class="n">TypeInfo</span><span class="o">::</span><span class="n">DecodableArgType</span><span class="o">&gt;</span><span class="w"> </span><span class="n">before</span><span class="p">,</span>
<span class="w">           </span><span class="n">chip</span><span class="o">::</span><span class="n">app</span><span class="o">::</span><span class="n">Clusters</span><span class="o">::</span><span class="n">MediaPlayback</span><span class="o">::</span><span class="n">Attributes</span><span class="o">::</span><span class="n">CurrentState</span><span class="o">::</span><span class="n">TypeInfo</span><span class="o">::</span><span class="n">DecodableArgType</span><span class="w"> </span><span class="n">after</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">before</span><span class="p">.</span><span class="n">HasValue</span><span class="p">())</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="n">ChipLogProgress</span><span class="p">(</span><span class="n">AppServer</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Read CurrentState value: %d [Before reading value: %d]&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">static_cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">after</span><span class="p">),</span>
<span class="w">                                </span><span class="n">static_cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">before</span><span class="p">.</span><span class="n">Value</span><span class="p">()));</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="k">else</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="n">ChipLogProgress</span><span class="p">(</span><span class="n">AppServer</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Read CurrentState value: %d&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">static_cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">after</span><span class="p">));</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">[](</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">CHIP_ERROR</span><span class="w"> </span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">ChipLogError</span><span class="p">(</span><span class="n">AppServer</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;CurrentState Read failure with err %&quot;</span><span class="w"> </span><span class="n">CHIP_ERROR_FORMAT</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="p">.</span><span class="n">Format</span><span class="p">());</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="n">kMinIntervalFloorSeconds</span><span class="p">,</span><span class="w"> </span><span class="n">kMaxIntervalCeilingSeconds</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>On Android, given an <code class="docutils literal notranslate"><span class="pre">Endpoint</span></code>, <code class="docutils literal notranslate"><span class="pre">CurrentState</span></code> can be subscribe to by calling
<code class="docutils literal notranslate"><span class="pre">subscribeCurrentStateAttribute</span></code> on a <code class="docutils literal notranslate"><span class="pre">ChipClusters.MediaPlaybackCluster</span></code>
object.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="w">                    </span><span class="c1">// get ChipClusters.MediaPlaybackCluster from the endpoint</span>
<span class="w">                    </span><span class="n">ChipClusters</span><span class="p">.</span><span class="na">MediaPlaybackCluster</span><span class="w"> </span><span class="n">cluster</span><span class="w"> </span><span class="o">=</span>
<span class="w">                            </span><span class="n">endpoint</span><span class="p">.</span><span class="na">getCluster</span><span class="p">(</span><span class="n">ChipClusters</span><span class="p">.</span><span class="na">MediaPlaybackCluster</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cluster</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="n">Log</span><span class="p">.</span><span class="na">e</span><span class="p">(</span>
<span class="w">                                </span><span class="n">TAG</span><span class="p">,</span>
<span class="w">                                </span><span class="s">&quot;Could not get ApplicationBasicCluster for endpoint with ID: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">endpoint</span><span class="p">.</span><span class="na">getId</span><span class="p">());</span>
<span class="w">                        </span><span class="k">return</span><span class="p">;</span>
<span class="w">                    </span><span class="p">}</span>

<span class="w">                    </span><span class="c1">// call subscribeCurrentStateAttribute on the cluster object while passing in a</span>
<span class="w">                    </span><span class="c1">// ChipClusters.IntegerAttributeCallback and [0, 1] for min and max interval params</span>
<span class="w">                    </span><span class="n">cluster</span><span class="p">.</span><span class="na">subscribeCurrentStateAttribute</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">ChipClusters</span><span class="p">.</span><span class="na">IntegerAttributeCallback</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nd">@Override</span>
<span class="w">                        </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onSuccess</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                            </span><span class="n">Log</span><span class="p">.</span><span class="na">d</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Read success on subscription. Value: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; @ &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Date</span><span class="p">());</span>
<span class="w">                            </span><span class="k">new</span><span class="w"> </span><span class="n">Handler</span><span class="p">(</span><span class="n">Looper</span><span class="p">.</span><span class="na">getMainLooper</span><span class="p">())</span>
<span class="w">                                    </span><span class="p">.</span><span class="na">post</span><span class="p">(</span>
<span class="w">                                            </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                                                </span><span class="n">TextView</span><span class="w"> </span><span class="n">currentStateResult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getView</span><span class="p">().</span><span class="na">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">currentStateResult</span><span class="p">);</span>
<span class="w">                                                </span><span class="n">currentStateResult</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span>
<span class="w">                                                        </span><span class="s">&quot;Current State result\nValue: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">                                            </span><span class="p">});</span>
<span class="w">                        </span><span class="p">}</span>

<span class="w">                        </span><span class="nd">@Override</span>
<span class="w">                        </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onError</span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                            </span><span class="n">Log</span><span class="p">.</span><span class="na">e</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Read failure on subscription: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">error</span><span class="p">);</span>
<span class="w">                            </span><span class="k">new</span><span class="w"> </span><span class="n">Handler</span><span class="p">(</span><span class="n">Looper</span><span class="p">.</span><span class="na">getMainLooper</span><span class="p">())</span>
<span class="w">                                    </span><span class="p">.</span><span class="na">post</span><span class="p">(</span>
<span class="w">                                            </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                                                </span><span class="n">TextView</span><span class="w"> </span><span class="n">currentStateResult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getView</span><span class="p">().</span><span class="na">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">currentStateResult</span><span class="p">);</span>
<span class="w">                                                </span><span class="n">currentStateResult</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="s">&quot;Current State result\nError: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">error</span><span class="p">);</span>
<span class="w">                                            </span><span class="p">});</span>
<span class="w">                        </span><span class="p">}</span>
<span class="w">                    </span><span class="p">},</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
</pre></div>
</div>
<p>On iOS, given a <code class="docutils literal notranslate"><span class="pre">MCEndpoint</span></code>, <code class="docutils literal notranslate"><span class="pre">CurrentState</span></code> can be subscribed to by calling the
<code class="docutils literal notranslate"><span class="pre">subscribe</span></code> API on the it can subscribe to the <code class="docutils literal notranslate"><span class="pre">CurrentState</span></code> (part of the Media
Playback Basic cluster) by calling the <code class="docutils literal notranslate"><span class="pre">Subscribe</span></code> API on the
<code class="docutils literal notranslate"><span class="pre">MCMediaPlaybackClusterCurrentStateAttribute</span></code></p>
<div class="highlight-swift notranslate"><div class="highlight"><pre><span></span><span class="c1">// validate that the selected endpoint supports the MediaPlayback cluster</span>
<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">endpoint</span><span class="p">.</span><span class="n">hasCluster</span><span class="p">(</span><span class="n">MCEndpointClusterTypeMediaPlayback</span><span class="p">))</span>
<span class="p">{</span>
    <span class="kc">self</span><span class="p">.</span><span class="n">Log</span><span class="p">.</span><span class="n">error</span><span class="p">(</span><span class="s">&quot;No MediaPlayback cluster supporting endpoint found&quot;</span><span class="p">)</span>
    <span class="n">DispatchQueue</span><span class="p">.</span><span class="n">main</span><span class="p">.</span><span class="k">async</span>
    <span class="p">{</span>
        <span class="kc">self</span><span class="p">.</span><span class="n">status</span> <span class="p">=</span> <span class="s">&quot;No MediaPlayback cluster supporting endpoint found&quot;</span>
    <span class="p">}</span>
    <span class="k">return</span>
<span class="p">}</span>

<span class="c1">// get MediaPlayback cluster from the endpoint</span>
<span class="kd">let</span> <span class="nv">mediaPlaybackCluster</span><span class="p">:</span> <span class="n">MCMediaPlaybackCluster</span> <span class="p">=</span> <span class="n">endpoint</span><span class="p">.</span><span class="n">cluster</span><span class="p">(</span><span class="k">for</span><span class="p">:</span> <span class="n">MCEndpointClusterTypeMediaPlayback</span><span class="p">)</span> <span class="k">as</span><span class="p">!</span> <span class="n">MCMediaPlaybackCluster</span>

<span class="c1">// get the currentStateAttribute from the mediaPlaybackCluster</span>
<span class="kd">let</span> <span class="nv">currentStateAttribute</span><span class="p">:</span> <span class="n">MCMediaPlaybackClusterCurrentStateAttribute</span><span class="p">?</span> <span class="p">=</span> <span class="n">mediaPlaybackCluster</span><span class="p">.</span><span class="n">currentStateAttribute</span><span class="p">()</span>
<span class="k">if</span><span class="p">(</span><span class="n">currentStateAttribute</span> <span class="p">==</span> <span class="kc">nil</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kc">self</span><span class="p">.</span><span class="n">Log</span><span class="p">.</span><span class="n">error</span><span class="p">(</span><span class="s">&quot;CurrentState attribute not supported on cluster&quot;</span><span class="p">)</span>
    <span class="n">DispatchQueue</span><span class="p">.</span><span class="n">main</span><span class="p">.</span><span class="k">async</span>
    <span class="p">{</span>
        <span class="kc">self</span><span class="p">.</span><span class="n">status</span> <span class="p">=</span> <span class="s">&quot;CurrentState attribute not supported on cluster&quot;</span>
    <span class="p">}</span>
    <span class="k">return</span>
<span class="p">}</span>

<span class="c1">// call read on currentStateAttribute and pass in a completion block</span>
<span class="n">currentStateAttribute</span><span class="p">!.</span><span class="n">subscribe</span><span class="p">(</span><span class="kc">nil</span><span class="p">,</span> <span class="n">completion</span><span class="p">:</span> <span class="p">{</span> <span class="n">context</span><span class="p">,</span> <span class="n">before</span><span class="p">,</span> <span class="n">after</span><span class="p">,</span> <span class="n">err</span> <span class="k">in</span>

    <span class="kd">let</span> <span class="nv">dateFormatter</span> <span class="p">=</span> <span class="n">DateFormatter</span><span class="p">()</span>
    <span class="n">dateFormatter</span><span class="p">.</span><span class="n">dateFormat</span> <span class="p">=</span> <span class="s">&quot;HH:mm:ss&quot;</span>
    <span class="kd">let</span> <span class="nv">currentTime</span> <span class="p">=</span> <span class="n">dateFormatter</span><span class="p">.</span><span class="n">string</span><span class="p">(</span><span class="n">from</span><span class="p">:</span> <span class="n">Date</span><span class="p">())</span>
    <span class="n">DispatchQueue</span><span class="p">.</span><span class="n">main</span><span class="p">.</span><span class="k">async</span>
    <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="n">err</span> <span class="o">!=</span> <span class="kc">nil</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kc">self</span><span class="p">.</span><span class="n">Log</span><span class="p">.</span><span class="n">error</span><span class="p">(</span><span class="s">&quot;Error when reading CurrentState value </span><span class="si">\(</span><span class="nb">String</span><span class="si">(</span><span class="n">describing</span><span class="p">:</span> <span class="n">err</span><span class="si">))</span><span class="s"> at </span><span class="si">\(</span><span class="n">currentTime</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)</span>
            <span class="kc">self</span><span class="p">.</span><span class="n">status</span> <span class="p">=</span> <span class="s">&quot;Error when reading CurrentState value </span><span class="si">\(</span><span class="nb">String</span><span class="si">(</span><span class="n">describing</span><span class="p">:</span> <span class="n">err</span><span class="si">))</span><span class="s"> at </span><span class="si">\(</span><span class="n">currentTime</span><span class="si">)</span><span class="s">&quot;</span>
            <span class="k">return</span>
        <span class="p">}</span>
        <span class="k">if</span><span class="p">(</span><span class="n">before</span> <span class="o">!=</span> <span class="kc">nil</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kc">self</span><span class="p">.</span><span class="n">Log</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="s">&quot;Read CurrentState value: </span><span class="si">\(</span><span class="nb">String</span><span class="si">(</span><span class="n">describing</span><span class="p">:</span> <span class="n">after</span><span class="si">))</span><span class="s"> Before: </span><span class="si">\(</span><span class="nb">String</span><span class="si">(</span><span class="n">describing</span><span class="p">:</span> <span class="n">before</span><span class="si">))</span><span class="s"> at </span><span class="si">\(</span><span class="n">currentTime</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)</span>
            <span class="kc">self</span><span class="p">.</span><span class="n">status</span> <span class="p">=</span> <span class="s">&quot;Read CurrentState value: </span><span class="si">\(</span><span class="nb">String</span><span class="si">(</span><span class="n">describing</span><span class="p">:</span> <span class="n">after</span><span class="si">))</span><span class="s"> Before: </span><span class="si">\(</span><span class="nb">String</span><span class="si">(</span><span class="n">describing</span><span class="p">:</span> <span class="n">before</span><span class="si">))</span><span class="s"> at </span><span class="si">\(</span><span class="n">currentTime</span><span class="si">)</span><span class="s">&quot;</span>
        <span class="p">}</span>
        <span class="k">else</span>
        <span class="p">{</span>
            <span class="kc">self</span><span class="p">.</span><span class="n">Log</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="s">&quot;Read CurrentState value: </span><span class="si">\(</span><span class="nb">String</span><span class="si">(</span><span class="n">describing</span><span class="p">:</span> <span class="n">after</span><span class="si">))</span><span class="s"> at </span><span class="si">\(</span><span class="n">currentTime</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)</span>
            <span class="kc">self</span><span class="p">.</span><span class="n">status</span> <span class="p">=</span> <span class="s">&quot;Read CurrentState value: </span><span class="si">\(</span><span class="nb">String</span><span class="si">(</span><span class="n">describing</span><span class="p">:</span> <span class="n">after</span><span class="si">))</span><span class="s"> at </span><span class="si">\(</span><span class="n">currentTime</span><span class="si">)</span><span class="s">&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">},</span> <span class="n">minInterval</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">maxInterval</span><span class="p">:</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>The Casting client can Shutdown all running Subscriptions by calling the
<code class="docutils literal notranslate"><span class="pre">ShutdownAllSubscriptions</span></code> API on the <code class="docutils literal notranslate"><span class="pre">CastingApp</span></code> on Linux/Android and
<code class="docutils literal notranslate"><span class="pre">MCCastingApp</span></code> on iOS. See API and its documentation for
<a class="reference external" href="https://github.com/project-chip/connectedhomeip/blob/master/examples/tv-casting-app/tv-casting-common/core/CastingApp.h">Linux</a>,
<a class="reference external" href="https://github.com/project-chip/connectedhomeip/blob/master/examples/tv-casting-app/android/App/app/src/main/jni/com/matter/casting/core/CastingApp.java">Android</a>
and <a class="reference external" href="https://github.com/project-chip/connectedhomeip/blob/master/examples/tv-casting-app/darwin/MatterTvCastingBridge/MatterTvCastingBridge/MCCastingApp.h">iOS</a>.</p>
</section>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="linux/README.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">CHIP TV Casting App Example</p>
      </div>
    </a>
    <a class="right-next"
       href="../virtual_device.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Virtual Device App</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#build-and-setup">Build and Setup</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#initialize-the-casting-client">Initialize the Casting Client</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#discover-casting-players">Discover Casting Players</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#connect-to-a-casting-player">Connect to a Casting Player</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#select-an-endpoint-on-the-casting-player">Select an Endpoint on the Casting Player</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#interacting-with-a-casting-endpoint">Interacting with a Casting Endpoint</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#issuing-commands">Issuing Commands</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#read-operations">Read Operations</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#subscriptions">Subscriptions</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Matter Contributors
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      Â© Copyright 2020-2023, Matter Contributors.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=5b4479735964841361fd"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>